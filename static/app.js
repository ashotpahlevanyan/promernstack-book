!function(e){function t(t){for(var r,a,l=t[0],i=t[1],s=t[2],f=0,d=[];f<l.length;f++)a=l[f],u[a]&&d.push(u[a][0]),u[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(c&&c(t);d.length;)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==u[i]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},u={1:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var c=i;o.push([70,0]),n()}({24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=l(n(0)),o=n(14),a=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("p",null,"This is a placeholder for editing issue ",this.props.match.params.id),u.default.createElement(o.Link,{to:"/issues"},"Back to issue list"))}}]),t}();t.default=i,i.propTypes={params:a.default.shape({id:a.default.string}).isRequired}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),u(t,[{key:"render",value:function(){return a.default.createElement("div",null,"This is a placeholder to Filter Issues.")}}]),t}();t.default=l},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=a(n(0)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=e.handleSubmit.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.forms.issueAdd;this.props.createIssue({owner:t.owner.value,title:t.title.value,status:"New",created:new Date}),t.owner.value="",t.title.value=""}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("form",{name:"issueAdd",onSubmit:this.handleSubmit},u.default.createElement("input",{type:"text",name:"owner",placeholder:"Owner"}),u.default.createElement("input",{type:"text",name:"title",placeholder:"Title"}),u.default.createElement("button",null,"Add")))}}]),t}();t.default=l,l.propTypes={createIssue:o.default.func.isRequired}},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=s(n(0));n(27);var o=s(n(2)),a=n(14),l=s(n(26)),i=s(n(25));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={issues:[]},e.createIssue=e.createIssue.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;fetch("/api/issues/").then(function(t){t.ok?t.json().then(function(t){t.records.forEach(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate))}),e.setState({issues:t.records})}):t.json().then(function(e){alert("Failed to fetch issue: "+e.message)})}).catch(function(e){alert("Error in fetching data from server"+e)})}},{key:"createIssue",value:function(e){var t=this;fetch("/api/issues/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){e.ok?e.json().then(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate));var n=t.state.issues.concat(e);t.setState({issues:n})}):e.json().then(function(e){alert("Failed to add issue: "+e.message)})}).catch(function(e){alert("Error in sending Data to server : "+e.message)})}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("h1",null,"Issue Tracker"),u.default.createElement(i.default,null),u.default.createElement("hr",null),u.default.createElement(d,{issues:this.state.issues}),u.default.createElement("hr",null),u.default.createElement(l.default,{createIssue:this.createIssue}))}}]),t}();t.default=c;var f=function(e){return u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(a.Link,{to:"/issues/"+e.issue._id},e.issue._id.substr(-4))),u.default.createElement("td",null,e.issue.status),u.default.createElement("td",null,e.issue.owner),u.default.createElement("td",null,e.issue.created.toDateString()),u.default.createElement("td",null,e.issue.effort),u.default.createElement("td",null,e.issue.completionDate?e.issue.completionDate.toDateString():""),u.default.createElement("td",null,e.issue.title))};function d(e){var t=e.issues.map(function(e){return u.default.createElement(f,{key:e._id,issue:e})});return u.default.createElement("table",{className:"bordered-table"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Id"),u.default.createElement("th",null,"Status"),u.default.createElement("th",null,"Owner"),u.default.createElement("th",null,"Created"),u.default.createElement("th",null,"Effort"),u.default.createElement("th",null,"Completion date"),u.default.createElement("th",null,"Title"))),u.default.createElement("tbody",null,t))}f.propTypes={issue:o.default.shape({owner:o.default.string.isRequired,title:o.default.string.isRequired,_id:o.default.string,status:o.default.string,created:o.default.string,effort:o.default.number,completionDate:o.default.string}).isRequired},d.propTypes={issues:o.default.arrayOf({}).isRequired}},69:function(e,t,n){"use strict";var r=i(n(0)),u=i(n(67)),o=n(14),a=i(n(28)),l=i(n(24));function i(e){return e&&e.__esModule?e:{default:e}}var s=document.getElementById("contents"),c=function(){return r.default.createElement("p",null,"Page Not Fount")};u.default.render(r.default.createElement(function(){return r.default.createElement(o.BrowserRouter,null,r.default.createElement(o.Switch,null,r.default.createElement(o.Redirect,{exact:!0,from:"/",to:"/issues"}),r.default.createElement(o.Route,{exact:!0,path:"/issues/",component:a.default}),r.default.createElement(o.Route,{exact:!0,path:"/issues/:id",component:l.default}),r.default.createElement(o.Route,{path:"*",component:c})))},null),s)},70:function(e,t,n){e.exports=n(69)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0lzc3VlRWRpdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0lzc3VlRmlsdGVyLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvSXNzdWVBZGQuanN4Iiwid2VicGFjazovLy8uL3NyYy9Jc3N1ZUxpc3QuanN4Iiwid2VicGFjazovLy8uL3NyYy9BcHAuanN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsbGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjEiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsImJpbmQiLCJzbGljZSIsIl9yZWFjdFJvdXRlckRvbSIsIklzc3VlRWRpdCIsIl9yZWFjdDIiLCJkZWZhdWx0IiwiQ29tcG9uZW50IiwiY3JlYXRlRWxlbWVudCIsInRoaXMiLCJwcm9wcyIsIm1hdGNoIiwicGFyYW1zIiwiaWQiLCJMaW5rIiwidG8iLCJwcm9wVHlwZXMiLCJfcHJvcFR5cGVzMiIsInNoYXBlIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsIl9yZWFjdCIsIklzc3VlRmlsdGVyIiwiSXNzdWVBZGQiLCJfY2xhc3NDYWxsQ2hlY2siLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJmb3JtIiwiZG9jdW1lbnQiLCJmb3JtcyIsImlzc3VlQWRkIiwiY3JlYXRlSXNzdWUiLCJvd25lciIsInRpdGxlIiwic3RhdHVzIiwiY3JlYXRlZCIsIkRhdGUiLCJvblN1Ym1pdCIsInR5cGUiLCJwbGFjZWhvbGRlciIsImZ1bmMiLCJJc3N1ZUxpc3QiLCJzdGF0ZSIsImlzc3VlcyIsImxvYWREYXRhIiwiX3RoaXMyIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJyZWNvcmRzIiwiZm9yRWFjaCIsImlzc3VlIiwiY29tcGxldGlvbkRhdGUiLCJzZXRTdGF0ZSIsImVycm9yIiwiYWxlcnQiLCJtZXNzYWdlIiwiY2F0Y2giLCJlcnIiLCJuZXdJc3N1ZSIsIl90aGlzMyIsIm1ldGhvZCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVwZGF0ZWRJc3N1ZSIsIm5ld0lzc3VlcyIsImNvbmNhdCIsIl9Jc3N1ZUZpbHRlcjIiLCJJc3N1ZVRhYmxlIiwiX0lzc3VlQWRkMiIsIklzc3VlUm93IiwiX2lkIiwic3Vic3RyIiwidG9EYXRlU3RyaW5nIiwiZWZmb3J0IiwiaXNzdWVSb3dzIiwibWFwIiwia2V5IiwiY2xhc3NOYW1lIiwibnVtYmVyIiwiYXJyYXlPZiIsImNvbnRlbnROb2RlIiwiZ2V0RWxlbWVudEJ5SWQiLCJOb01hdGNoIiwiX3JlYWN0RG9tMiIsInJlbmRlciIsIkJyb3dzZXJSb3V0ZXIiLCJTd2l0Y2giLCJSZWRpcmVjdCIsImV4YWN0IiwiZnJvbSIsIlJvdXRlIiwicGF0aCIsImNvbXBvbmVudCIsIl9Jc3N1ZUxpc3QyIiwiX0lzc3VlRWRpdDIiXSwibWFwcGluZ3MiOiJhQUNBLFNBQUFBLEVBQUFDLEdBT0EsSUFOQSxJQUtBQyxFQUFBQyxFQUxBQyxFQUFBSCxFQUFBLEdBQ0FJLEVBQUFKLEVBQUEsR0FDQUssRUFBQUwsRUFBQSxHQUdBTSxFQUFBLEVBQUFDLEtBQ1FELEVBQUFILEVBQUFLLE9BQW9CRixJQUM1QkosRUFBQUMsRUFBQUcsR0FDQUcsRUFBQVAsSUFDQUssRUFBQUcsS0FBQUQsRUFBQVAsR0FBQSxJQUVBTyxFQUFBUCxHQUFBLEVBRUEsSUFBQUQsS0FBQUcsRUFDQU8sT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVYsRUFBQUgsS0FDQWMsRUFBQWQsR0FBQUcsRUFBQUgsSUFJQSxJQURBZSxLQUFBaEIsR0FDQU8sRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxPQUhBVyxFQUFBUixLQUFBUyxNQUFBRCxFQUFBYixPQUdBZSxJQUVBLFNBQUFBLElBRUEsSUFEQSxJQUFBQyxFQUNBZixFQUFBLEVBQWlCQSxFQUFBWSxFQUFBVixPQUE0QkYsSUFBQSxDQUc3QyxJQUZBLElBQUFnQixFQUFBSixFQUFBWixHQUNBaUIsR0FBQSxFQUNBQyxFQUFBLEVBQWtCQSxFQUFBRixFQUFBZCxPQUEyQmdCLElBQUEsQ0FDN0MsSUFBQUMsRUFBQUgsRUFBQUUsR0FDQSxJQUFBZixFQUFBZ0IsS0FBQUYsR0FBQSxHQUVBQSxJQUNBTCxFQUFBUSxPQUFBcEIsSUFBQSxHQUNBZSxFQUFBTSxJQUFBQyxFQUFBTixFQUFBLEtBR0EsT0FBQUQsRUFJQSxJQUFBUSxLQUdBcEIsR0FDQXFCLEVBQUEsR0FHQVosS0FHQSxTQUFBUyxFQUFBMUIsR0FHQSxHQUFBNEIsRUFBQTVCLEdBQ0EsT0FBQTRCLEVBQUE1QixHQUFBOEIsUUFHQSxJQUFBQyxFQUFBSCxFQUFBNUIsSUFD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MUYsRUFBQUMsUUFBQUUsY0FaRSxrQkFDaEJILEVBQUFDLFFBQUFFLGNBQUFMLEVBQUE2RixjQUFBLEtBQ0UzRixFQUFBQyxRQUFBRSxjQUFBTCxFQUFBOEYsT0FBQSxLQUNFNUYsRUFBQUMsUUFBQUUsY0FBQUwsRUFBQStGLFVBQVVDLE9BQUEsRUFBTUMsS0FBSyxJQUFJckYsR0FBRyxZQUM1QlYsRUFBQUMsUUFBQUUsY0FBQUwsRUFBQWtHLE9BQU9GLE9BQU8sRUFBTUcsS0FBTSxXQUFZQyxVQUFBQyxFQUFBbEcsVUFDdENELEVBQUFDLFFBQUFFLGNBQUFMLEVBQUFrRyxPQUFPRixPQUFPLEVBQU1HLEtBQU0sY0FBZUMsVUFBQUUsRUFBQW5HLFVBQ3pDRCxFQUFBQyxRQUFBRSxjQUFBTCxFQUFBa0csT0FBT0MsS0FBSyxJQUFJQyxVQUFXVixPQU1qQixNQUFlRiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXVxuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MTogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIuL1wiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbNzAsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXNzdWVFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxwPlRoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgZWRpdGluZyBpc3N1ZSB7dGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuaWR9PC9wPlxuICAgICAgICA8TGluayB0bz1cIi9pc3N1ZXNcIj5CYWNrIHRvIGlzc3VlIGxpc3Q8L0xpbms+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbklzc3VlRWRpdC5wcm9wVHlwZXMgPSB7XG4gIHBhcmFtczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgfSkuaXNSZXF1aXJlZCxcbn07XG4iLCJcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXNzdWVGaWx0ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5UaGlzIGlzIGEgcGxhY2Vob2xkZXIgdG8gRmlsdGVyIElzc3Vlcy48L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvLyAgJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXNzdWVBZGQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlU3VibWl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmZvcm1zLmlzc3VlQWRkO1xuICAgIHRoaXMucHJvcHMuY3JlYXRlSXNzdWUoe1xuICAgICAgb3duZXI6IGZvcm0ub3duZXIudmFsdWUsXG4gICAgICB0aXRsZTogZm9ybS50aXRsZS52YWx1ZSxcbiAgICAgIHN0YXR1czogJ05ldycsXG4gICAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpLFxuICAgIH0pO1xuICAgIC8vIGNsZWFyIHRoZSBmb3JtIGZvciB0aGUgbmV4dCBpbnB1dFxuICAgIGZvcm0ub3duZXIudmFsdWUgPSAnJztcbiAgICBmb3JtLnRpdGxlLnZhbHVlID0gJyc7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8Zm9ybSBuYW1lPVwiaXNzdWVBZGRcIiBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJvd25lclwiIHBsYWNlaG9sZGVyPVwiT3duZXJcIiAvPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0aXRsZVwiIHBsYWNlaG9sZGVyPVwiVGl0bGVcIiAvPlxuICAgICAgICAgIDxidXR0b24+QWRkPC9idXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuSXNzdWVBZGQucHJvcFR5cGVzID0ge1xuICBjcmVhdGVJc3N1ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICd3aGF0d2ctZmV0Y2gnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBJc3N1ZUFkZCBmcm9tICcuL0lzc3VlQWRkLmpzeCc7XG5pbXBvcnQgSXNzdWVGaWx0ZXIgZnJvbSAnLi9Jc3N1ZUZpbHRlci5qc3gnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElzc3VlTGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLnN0YXRlID0geyBpc3N1ZXM6IFtdIH07XG4gICAgdGhpcy5jcmVhdGVJc3N1ZSA9IHRoaXMuY3JlYXRlSXNzdWUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMubG9hZERhdGEoKTtcbiAgfVxuXG4gIGxvYWREYXRhKCkge1xuICAgIGZldGNoKCcvYXBpL2lzc3Vlcy8nKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgLy8gIGNvbnNvbGUubG9nKCdUb3RhbCBDb3VudCBvZiByZWNvcmRzOiAnLCBkYXRhLl9tZXRhZGF0YS50b3RhbF9jb3VudCk7XG4gICAgICAgICAgZGF0YS5yZWNvcmRzLmZvckVhY2goKGlzc3VlKSA9PiB7XG4gICAgICAgICAgICBpc3N1ZS5jcmVhdGVkID0gbmV3IERhdGUoaXNzdWUuY3JlYXRlZCk7XG4gICAgICAgICAgICBpZiAoaXNzdWUuY29tcGxldGlvbkRhdGUpIHtcbiAgICAgICAgICAgICAgaXNzdWUuY29tcGxldGlvbkRhdGUgPSBuZXcgRGF0ZShpc3N1ZS5jb21wbGV0aW9uRGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzc3VlczogZGF0YS5yZWNvcmRzIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChlcnJvcikgPT4ge1xuICAgICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gZmV0Y2ggaXNzdWU6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgYWxlcnQoJ0Vycm9yIGluIGZldGNoaW5nIGRhdGEgZnJvbSBzZXJ2ZXInICsgZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZUlzc3VlKG5ld0lzc3VlKSB7XG4gICAgZmV0Y2goJy9hcGkvaXNzdWVzLycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdJc3N1ZSksXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbigodXBkYXRlZElzc3VlKSA9PiB7XG4gICAgICAgICAgdXBkYXRlZElzc3VlLmNyZWF0ZWQgPSBuZXcgRGF0ZSh1cGRhdGVkSXNzdWUuY3JlYXRlZCk7XG4gICAgICAgICAgaWYgKHVwZGF0ZWRJc3N1ZS5jb21wbGV0aW9uRGF0ZSkge1xuICAgICAgICAgICAgdXBkYXRlZElzc3VlLmNvbXBsZXRpb25EYXRlID0gbmV3IERhdGUodXBkYXRlZElzc3VlLmNvbXBsZXRpb25EYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmV3SXNzdWVzID0gdGhpcy5zdGF0ZS5pc3N1ZXMuY29uY2F0KHVwZGF0ZWRJc3N1ZSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzc3VlczogbmV3SXNzdWVzIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChlcnJvcikgPT4ge1xuICAgICAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gYWRkIGlzc3VlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGFsZXJ0KGBFcnJvciBpbiBzZW5kaW5nIERhdGEgdG8gc2VydmVyIDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGgxPklzc3VlIFRyYWNrZXI8L2gxPlxuICAgICAgICA8SXNzdWVGaWx0ZXIgLz5cbiAgICAgICAgPGhyIC8+XG4gICAgICAgIDxJc3N1ZVRhYmxlIGlzc3Vlcz17dGhpcy5zdGF0ZS5pc3N1ZXN9IC8+XG4gICAgICAgIDxociAvPlxuICAgICAgICA8SXNzdWVBZGQgY3JlYXRlSXNzdWU9e3RoaXMuY3JlYXRlSXNzdWV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IElzc3VlUm93ID0gcHJvcHMgPT4gKFxuICA8dHI+XG4gICAgPHRkPlxuICAgICAgPExpbmsgdG89e2AvaXNzdWVzLyR7cHJvcHMuaXNzdWUuX2lkfWB9Pntwcm9wcy5pc3N1ZS5faWQuc3Vic3RyKC00KX08L0xpbms+XG4gICAgPC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLnN0YXR1c308L3RkPlxuICAgIDx0ZD57cHJvcHMuaXNzdWUub3duZXJ9PC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLmNyZWF0ZWQudG9EYXRlU3RyaW5nKCl9PC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLmVmZm9ydH08L3RkPlxuICAgIDx0ZD57cHJvcHMuaXNzdWUuY29tcGxldGlvbkRhdGUgPyBwcm9wcy5pc3N1ZS5jb21wbGV0aW9uRGF0ZS50b0RhdGVTdHJpbmcoKSA6ICcnfTwvdGQ+XG4gICAgPHRkPntwcm9wcy5pc3N1ZS50aXRsZX08L3RkPlxuICA8L3RyPlxuKTtcblxuZnVuY3Rpb24gSXNzdWVUYWJsZShwcm9wcykge1xuICBjb25zdCBpc3N1ZVJvd3MgPSBwcm9wcy5pc3N1ZXMubWFwKGlzc3VlID0+IDxJc3N1ZVJvdyBrZXk9e2lzc3VlLl9pZH0gaXNzdWU9e2lzc3VlfSAvPik7XG4gIHJldHVybiAoXG4gICAgPHRhYmxlIGNsYXNzTmFtZT1cImJvcmRlcmVkLXRhYmxlXCI+XG4gICAgICA8dGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGg+SWQ8L3RoPlxuICAgICAgICAgIDx0aD5TdGF0dXM8L3RoPlxuICAgICAgICAgIDx0aD5Pd25lcjwvdGg+XG4gICAgICAgICAgPHRoPkNyZWF0ZWQ8L3RoPlxuICAgICAgICAgIDx0aD5FZmZvcnQ8L3RoPlxuICAgICAgICAgIDx0aD5Db21wbGV0aW9uIGRhdGU8L3RoPlxuICAgICAgICAgIDx0aD5UaXRsZTwvdGg+XG4gICAgICAgIDwvdHI+XG4gICAgICA8L3RoZWFkPlxuICAgICAgPHRib2R5PlxuICAgICAgICB7aXNzdWVSb3dzfVxuICAgICAgPC90Ym9keT5cbiAgICA8L3RhYmxlPlxuICApO1xufVxuXG5Jc3N1ZVJvdy5wcm9wVHlwZXMgPSB7XG4gIGlzc3VlOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIG93bmVyOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBfaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3RhdHVzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNyZWF0ZWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZWZmb3J0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGNvbXBsZXRpb25EYXRlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB9KS5pc1JlcXVpcmVkLFxufTtcblxuSXNzdWVUYWJsZS5wcm9wVHlwZXMgPSB7XG4gIGlzc3VlczogUHJvcFR5cGVzLmFycmF5T2Yoe1xuICB9KS5pc1JlcXVpcmVkLFxufTtcbiIsIi8vICAndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7QnJvd3NlclJvdXRlciBhcyBSb3V0ZXIsIFJvdXRlLCBSZWRpcmVjdH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBTd2l0Y2ggfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuaW1wb3J0IElzc3VlTGlzdCBmcm9tICcuL0lzc3VlTGlzdC5qc3gnO1xuaW1wb3J0IElzc3VlRWRpdCBmcm9tICcuL0lzc3VlRWRpdC5qc3gnO1xuXG5jb25zdCBjb250ZW50Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50cycpO1xuY29uc3QgTm9NYXRjaCA9ICgpID0+IDxwPlBhZ2UgTm90IEZvdW50PC9wPjtcblxuY29uc3QgUm91dGVkQXBwID0gKCkgPT4gKFxuICA8Um91dGVyPlxuICAgIDxTd2l0Y2g+XG4gICAgICA8UmVkaXJlY3QgZXhhY3QgZnJvbT1cIi9cIiB0bz1cIi9pc3N1ZXNcIiAvPlxuICAgICAgPFJvdXRlIGV4YWN0PXt0cnVlfSBwYXRoPXtcIi9pc3N1ZXMvXCJ9IGNvbXBvbmVudD17SXNzdWVMaXN0fSAvPlxuICAgICAgPFJvdXRlIGV4YWN0PXt0cnVlfSBwYXRoPXtcIi9pc3N1ZXMvOmlkXCJ9IGNvbXBvbmVudD17SXNzdWVFZGl0fSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIqXCIgY29tcG9uZW50PXtOb01hdGNofSAvPlxuICAgIDwvU3dpdGNoPlxuICA8L1JvdXRlcj5cbik7XG5cblxuUmVhY3RET00ucmVuZGVyKDxSb3V0ZWRBcHAgLz4sIGNvbnRlbnROb2RlKTtcblxuaWYgKG1vZHVsZS5ob3QpIHtcbiAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=