!function(e){function t(t){for(var r,a,l=t[0],i=t[1],s=t[2],f=0,d=[];f<l.length;f++)a=l[f],u[a]&&d.push(u[a][0]),u[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(c&&c(t);d.length;)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==u[i]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},u={1:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var c=i;o.push([70,0]),n()}({24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=l(n(0)),o=n(14),a=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("p",null,"This is a placeholder for editing issue"),u.default.createElement(o.Link,{to:"/issues"},"Back to issue list"))}}]),t}();t.default=i,i.propTypes={params:a.default.shape({id:a.default.string}).isRequired}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),u(t,[{key:"render",value:function(){return a.default.createElement("div",null,"This is a placeholder to Filter Issues.")}}]),t}();t.default=l},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=a(n(0)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=e.handleSubmit.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.forms.issueAdd;this.props.createIssue({owner:t.owner.value,title:t.title.value,status:"New",created:new Date}),t.owner.value="",t.title.value=""}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("form",{name:"issueAdd",onSubmit:this.handleSubmit},u.default.createElement("input",{type:"text",name:"owner",placeholder:"Owner"}),u.default.createElement("input",{type:"text",name:"title",placeholder:"Title"}),u.default.createElement("button",null,"Add")))}}]),t}();t.default=l,l.propTypes={createIssue:o.default.func.isRequired}},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=s(n(0));n(27);var o=s(n(2)),a=n(14),l=s(n(26)),i=s(n(25));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={issues:[]},e.createIssue=e.createIssue.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;fetch("/api/issues/").then(function(t){t.ok?t.json().then(function(t){t.records.forEach(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate))}),e.setState({issues:t.records})}):t.json().then(function(e){alert("Failed to fetch issue: "+e.message)})}).catch(function(e){alert("Error in fetching data from server"+e)})}},{key:"createIssue",value:function(e){var t=this;fetch("/api/issues/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){e.ok?e.json().then(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate));var n=t.state.issues.concat(e);t.setState({issues:n})}):e.json().then(function(e){alert("Failed to add issue: "+e.message)})}).catch(function(e){alert("Error in sending Data to server : "+e.message)})}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("h1",null,"Issue Tracker"),u.default.createElement(i.default,null),u.default.createElement("hr",null),u.default.createElement(d,{issues:this.state.issues}),u.default.createElement("hr",null),u.default.createElement(l.default,{createIssue:this.createIssue}))}}]),t}();t.default=c;var f=function(e){return u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(a.Link,{to:"/issues/"+e.issue._id},e.issue._id.substr(-4))),u.default.createElement("td",null,e.issue.status),u.default.createElement("td",null,e.issue.owner),u.default.createElement("td",null,e.issue.created.toDateString()),u.default.createElement("td",null,e.issue.effort),u.default.createElement("td",null,e.issue.completionDate?e.issue.completionDate.toDateString():""),u.default.createElement("td",null,e.issue.title))};function d(e){var t=e.issues.map(function(e){return u.default.createElement(f,{key:e._id,issue:e})});return u.default.createElement("table",{className:"bordered-table"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Id"),u.default.createElement("th",null,"Status"),u.default.createElement("th",null,"Owner"),u.default.createElement("th",null,"Created"),u.default.createElement("th",null,"Effort"),u.default.createElement("th",null,"Completion date"),u.default.createElement("th",null,"Title"))),u.default.createElement("tbody",null,t))}f.propTypes={issue:o.default.shape({owner:o.default.string.isRequired,title:o.default.string.isRequired,_id:o.default.string,status:o.default.string,created:o.default.string,effort:o.default.number,completionDate:o.default.string}).isRequired},d.propTypes={issues:o.default.arrayOf({}).isRequired}},69:function(e,t,n){"use strict";var r=i(n(0)),u=i(n(67)),o=n(14),a=i(n(28)),l=i(n(24));function i(e){return e&&e.__esModule?e:{default:e}}var s=document.getElementById("contents"),c=function(){return r.default.createElement("p",null,"Page Not Fount")};u.default.render(r.default.createElement(function(){return r.default.createElement(o.HashRouter,null,r.default.createElement("div",null,r.default.createElement(o.Redirect,{from:"/",to:"/issues"}),r.default.createElement(o.Route,{path:"/issues",component:a.default}),r.default.createElement(o.Route,{path:"/issues/:id",component:l.default}),r.default.createElement(o.Route,{path:"*",component:c})))},null),s)},70:function(e,t,n){e.exports=n(69)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0lzc3VlRWRpdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0lzc3VlRmlsdGVyLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvSXNzdWVBZGQuanN4Iiwid2VicGFjazovLy8uL3NyYy9Jc3N1ZUxpc3QuanN4Iiwid2VicGFjazovLy8uL3NyYy9BcHAuanN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsbGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjEiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsImJpbmQiLCJzbGljZSIsIl9yZWFjdFJvdXRlckRvbSIsIklzc3VlRWRpdCIsIl9yZWFjdDIiLCJkZWZhdWx0IiwiQ29tcG9uZW50IiwiY3JlYXRlRWxlbWVudCIsIkxpbmsiLCJ0byIsInByb3BUeXBlcyIsInBhcmFtcyIsIl9wcm9wVHlwZXMyIiwic2hhcGUiLCJpZCIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJfcmVhY3QiLCJJc3N1ZUZpbHRlciIsIklzc3VlQWRkIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJkb2N1bWVudCIsImZvcm1zIiwiaXNzdWVBZGQiLCJwcm9wcyIsImNyZWF0ZUlzc3VlIiwib3duZXIiLCJ0aXRsZSIsInN0YXR1cyIsImNyZWF0ZWQiLCJEYXRlIiwib25TdWJtaXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJmdW5jIiwiSXNzdWVMaXN0Iiwic3RhdGUiLCJpc3N1ZXMiLCJsb2FkRGF0YSIsIl90aGlzMiIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJqc29uIiwicmVjb3JkcyIsImZvckVhY2giLCJpc3N1ZSIsImNvbXBsZXRpb25EYXRlIiwic2V0U3RhdGUiLCJlcnJvciIsImFsZXJ0IiwibWVzc2FnZSIsImNhdGNoIiwiZXJyIiwibmV3SXNzdWUiLCJfdGhpczMiLCJtZXRob2QiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVkSXNzdWUiLCJuZXdJc3N1ZXMiLCJjb25jYXQiLCJfSXNzdWVGaWx0ZXIyIiwiSXNzdWVUYWJsZSIsIl9Jc3N1ZUFkZDIiLCJJc3N1ZVJvdyIsIl9pZCIsInN1YnN0ciIsInRvRGF0ZVN0cmluZyIsImVmZm9ydCIsImlzc3VlUm93cyIsIm1hcCIsImtleSIsImNsYXNzTmFtZSIsIm51bWJlciIsImFycmF5T2YiLCJjb250ZW50Tm9kZSIsImdldEVsZW1lbnRCeUlkIiwiTm9NYXRjaCIsIl9yZWFjdERvbTIiLCJyZW5kZXIiLCJIYXNoUm91dGVyIiwiUmVkaXJlY3QiLCJmcm9tIiwiUm91dGUiLCJwYXRoIiwiY29tcG9uZW50IiwiX0lzc3VlTGlzdDIiLCJfSXNzdWVFZGl0MiJdLCJtYXBwaW5ncyI6ImFBQ0EsU0FBQUEsRUFBQUMsR0FPQSxJQU5BLElBS0FDLEVBQUFDLEVBTEFDLEVBQUFILEVBQUEsR0FDQUksRUFBQUosRUFBQSxHQUNBSyxFQUFBTCxFQUFBLEdBR0FNLEVBQUEsRUFBQUMsS0FDUUQsRUFBQUgsRUFBQUssT0FBb0JGLElBQzVCSixFQUFBQyxFQUFBRyxHQUNBRyxFQUFBUCxJQUNBSyxFQUFBRyxLQUFBRCxFQUFBUCxHQUFBLElBRUFPLEVBQUFQLEdBQUEsRUFFQSxJQUFBRCxLQUFBRyxFQUNBTyxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBVixFQUFBSCxLQUNBYyxFQUFBZCxHQUFBRyxFQUFBSCxJQUlBLElBREFlLEtBQUFoQixHQUNBTyxFQUFBQyxRQUNBRCxFQUFBVSxPQUFBVixHQU9BLE9BSEFXLEVBQUFSLEtBQUFTLE1BQUFELEVBQUFiLE9BR0FlLElBRUEsU0FBQUEsSUFFQSxJQURBLElBQUFDLEVBQ0FmLEVBQUEsRUFBaUJBLEVBQUFZLEVBQUFWLE9BQTRCRixJQUFBLENBRzdDLElBRkEsSUFBQWdCLEVBQUFKLEVBQUFaLEdBQ0FpQixHQUFBLEVBQ0FDLEVBQUEsRUFBa0JBLEVBQUFGLEVBQUFkLE9BQTJCZ0IsSUFBQSxDQUM3QyxJQUFBQyxFQUFBSCxFQUFBRSxHQUNBLElBQUFmLEVBQUFnQixLQUFBRixHQUFBLEdBRUFBLElBQ0FMLEVBQUFRLE9BQUFwQixJQUFBLEdBQ0FlLEVBQUFNLElBQUFDLEVBQUFOLEVBQUEsS0FHQSxPQUFBRCxFQUlBLElBQUFRLEtBR0FwQixHQUNBcUIsRUFBQSxHQUdBWixLQUdBLFNBQUFTLEVBQUExQixHQUdBLEdBQUE0QixFQUFBNUIsR0FDQSxPQUFBNEIsRUFBQTVCLEdBQUE4QixRQUdBLElBQUFDLEVBQUFILEVBQUE1QixJQUNBSyxFQUFBTCxFQUNBZ0MsR0FBQSxFQUNBRixZ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RixFQUFBQyxRQUFBRSxjQUFBLFdBQ0VILEVBQUFDLFFBQUFFLGNBQUFMLEVBQUE2RixVQUFVQyxLQUFLLElBQUl2RixHQUFHLFlBQ3RCTCxFQUFBQyxRQUFBRSxjQUFBTCxFQUFBK0YsT0FBT0MsS0FBTSxVQUFXQyxVQUFBQyxFQUFBL0YsVUFDeEJELEVBQUFDLFFBQUFFLGNBQUFMLEVBQUErRixPQUFPQyxLQUFNLGNBQWVDLFVBQUFFLEVBQUFoRyxVQUM1QkQsRUFBQUMsUUFBQUUsY0FBQUwsRUFBQStGLE9BQU9DLEtBQUssSUFBSUMsVUFBV1IsT0FNakIsTUFBZUYiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV1cbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsbGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDE6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9cIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzcwLDBdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElzc3VlRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8cD5UaGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGVkaXRpbmcgaXNzdWU8L3A+XG4gICAgICAgIDxMaW5rIHRvPVwiL2lzc3Vlc1wiPkJhY2sgdG8gaXNzdWUgbGlzdDwvTGluaz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuSXNzdWVFZGl0LnByb3BUeXBlcyA9IHtcbiAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB9KS5pc1JlcXVpcmVkLFxufTtcbiIsIlxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJc3N1ZUZpbHRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlRoaXMgaXMgYSBwbGFjZWhvbGRlciB0byBGaWx0ZXIgSXNzdWVzLjwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8vICAndXNlIHN0cmljdCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJc3N1ZUFkZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZm9ybXMuaXNzdWVBZGQ7XG4gICAgdGhpcy5wcm9wcy5jcmVhdGVJc3N1ZSh7XG4gICAgICBvd25lcjogZm9ybS5vd25lci52YWx1ZSxcbiAgICAgIHRpdGxlOiBmb3JtLnRpdGxlLnZhbHVlLFxuICAgICAgc3RhdHVzOiAnTmV3JyxcbiAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgfSk7XG4gICAgLy8gY2xlYXIgdGhlIGZvcm0gZm9yIHRoZSBuZXh0IGlucHV0XG4gICAgZm9ybS5vd25lci52YWx1ZSA9ICcnO1xuICAgIGZvcm0udGl0bGUudmFsdWUgPSAnJztcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxmb3JtIG5hbWU9XCJpc3N1ZUFkZFwiIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm93bmVyXCIgcGxhY2Vob2xkZXI9XCJPd25lclwiIC8+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInRpdGxlXCIgcGxhY2Vob2xkZXI9XCJUaXRsZVwiIC8+XG4gICAgICAgICAgPGJ1dHRvbj5BZGQ8L2J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5Jc3N1ZUFkZC5wcm9wVHlwZXMgPSB7XG4gIGNyZWF0ZUlzc3VlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IElzc3VlQWRkIGZyb20gJy4vSXNzdWVBZGQuanN4JztcbmltcG9ydCBJc3N1ZUZpbHRlciBmcm9tICcuL0lzc3VlRmlsdGVyLmpzeCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXNzdWVMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7IGlzc3VlczogW10gfTtcbiAgICB0aGlzLmNyZWF0ZUlzc3VlID0gdGhpcy5jcmVhdGVJc3N1ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5sb2FkRGF0YSgpO1xuICB9XG5cbiAgbG9hZERhdGEoKSB7XG4gICAgZmV0Y2goJy9hcGkvaXNzdWVzLycpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAvLyAgY29uc29sZS5sb2coJ1RvdGFsIENvdW50IG9mIHJlY29yZHM6ICcsIGRhdGEuX21ldGFkYXRhLnRvdGFsX2NvdW50KTtcbiAgICAgICAgICBkYXRhLnJlY29yZHMuZm9yRWFjaCgoaXNzdWUpID0+IHtcbiAgICAgICAgICAgIGlzc3VlLmNyZWF0ZWQgPSBuZXcgRGF0ZShpc3N1ZS5jcmVhdGVkKTtcbiAgICAgICAgICAgIGlmIChpc3N1ZS5jb21wbGV0aW9uRGF0ZSkge1xuICAgICAgICAgICAgICBpc3N1ZS5jb21wbGV0aW9uRGF0ZSA9IG5ldyBEYXRlKGlzc3VlLmNvbXBsZXRpb25EYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNzdWVzOiBkYXRhLnJlY29yZHMgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGVycm9yKSA9PiB7XG4gICAgICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBmZXRjaCBpc3N1ZTogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBhbGVydCgnRXJyb3IgaW4gZmV0Y2hpbmcgZGF0YSBmcm9tIHNlcnZlcicgKyBlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlSXNzdWUobmV3SXNzdWUpIHtcbiAgICBmZXRjaCgnL2FwaS9pc3N1ZXMvJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5ld0lzc3VlKSxcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKCh1cGRhdGVkSXNzdWUpID0+IHtcbiAgICAgICAgICB1cGRhdGVkSXNzdWUuY3JlYXRlZCA9IG5ldyBEYXRlKHVwZGF0ZWRJc3N1ZS5jcmVhdGVkKTtcbiAgICAgICAgICBpZiAodXBkYXRlZElzc3VlLmNvbXBsZXRpb25EYXRlKSB7XG4gICAgICAgICAgICB1cGRhdGVkSXNzdWUuY29tcGxldGlvbkRhdGUgPSBuZXcgRGF0ZSh1cGRhdGVkSXNzdWUuY29tcGxldGlvbkRhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBuZXdJc3N1ZXMgPSB0aGlzLnN0YXRlLmlzc3Vlcy5jb25jYXQodXBkYXRlZElzc3VlKTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNzdWVzOiBuZXdJc3N1ZXMgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGVycm9yKSA9PiB7XG4gICAgICAgICAgYWxlcnQoYEZhaWxlZCB0byBhZGQgaXNzdWU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgYWxlcnQoYEVycm9yIGluIHNlbmRpbmcgRGF0YSB0byBzZXJ2ZXIgOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDE+SXNzdWUgVHJhY2tlcjwvaDE+XG4gICAgICAgIDxJc3N1ZUZpbHRlciAvPlxuICAgICAgICA8aHIgLz5cbiAgICAgICAgPElzc3VlVGFibGUgaXNzdWVzPXt0aGlzLnN0YXRlLmlzc3Vlc30gLz5cbiAgICAgICAgPGhyIC8+XG4gICAgICAgIDxJc3N1ZUFkZCBjcmVhdGVJc3N1ZT17dGhpcy5jcmVhdGVJc3N1ZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgSXNzdWVSb3cgPSBwcm9wcyA9PiAoXG4gIDx0cj5cbiAgICA8dGQ+XG4gICAgICA8TGluayB0bz17YC9pc3N1ZXMvJHtwcm9wcy5pc3N1ZS5faWR9YH0+e3Byb3BzLmlzc3VlLl9pZC5zdWJzdHIoLTQpfTwvTGluaz5cbiAgICA8L3RkPlxuICAgIDx0ZD57cHJvcHMuaXNzdWUuc3RhdHVzfTwvdGQ+XG4gICAgPHRkPntwcm9wcy5pc3N1ZS5vd25lcn08L3RkPlxuICAgIDx0ZD57cHJvcHMuaXNzdWUuY3JlYXRlZC50b0RhdGVTdHJpbmcoKX08L3RkPlxuICAgIDx0ZD57cHJvcHMuaXNzdWUuZWZmb3J0fTwvdGQ+XG4gICAgPHRkPntwcm9wcy5pc3N1ZS5jb21wbGV0aW9uRGF0ZSA/IHByb3BzLmlzc3VlLmNvbXBsZXRpb25EYXRlLnRvRGF0ZVN0cmluZygpIDogJyd9PC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLnRpdGxlfTwvdGQ+XG4gIDwvdHI+XG4pO1xuXG5mdW5jdGlvbiBJc3N1ZVRhYmxlKHByb3BzKSB7XG4gIGNvbnN0IGlzc3VlUm93cyA9IHByb3BzLmlzc3Vlcy5tYXAoaXNzdWUgPT4gPElzc3VlUm93IGtleT17aXNzdWUuX2lkfSBpc3N1ZT17aXNzdWV9IC8+KTtcbiAgcmV0dXJuIChcbiAgICA8dGFibGUgY2xhc3NOYW1lPVwiYm9yZGVyZWQtdGFibGVcIj5cbiAgICAgIDx0aGVhZD5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0aD5JZDwvdGg+XG4gICAgICAgICAgPHRoPlN0YXR1czwvdGg+XG4gICAgICAgICAgPHRoPk93bmVyPC90aD5cbiAgICAgICAgICA8dGg+Q3JlYXRlZDwvdGg+XG4gICAgICAgICAgPHRoPkVmZm9ydDwvdGg+XG4gICAgICAgICAgPHRoPkNvbXBsZXRpb24gZGF0ZTwvdGg+XG4gICAgICAgICAgPHRoPlRpdGxlPC90aD5cbiAgICAgICAgPC90cj5cbiAgICAgIDwvdGhlYWQ+XG4gICAgICA8dGJvZHk+XG4gICAgICAgIHtpc3N1ZVJvd3N9XG4gICAgICA8L3Rib2R5PlxuICAgIDwvdGFibGU+XG4gICk7XG59XG5cbklzc3VlUm93LnByb3BUeXBlcyA9IHtcbiAgaXNzdWU6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgb3duZXI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIF9pZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzdGF0dXM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY3JlYXRlZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBlZmZvcnQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgY29tcGxldGlvbkRhdGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIH0pLmlzUmVxdWlyZWQsXG59O1xuXG5Jc3N1ZVRhYmxlLnByb3BUeXBlcyA9IHtcbiAgaXNzdWVzOiBQcm9wVHlwZXMuYXJyYXlPZih7XG4gIH0pLmlzUmVxdWlyZWQsXG59O1xuIiwiLy8gICd1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHtSb3V0ZSwgUmVkaXJlY3QsIEhhc2hSb3V0ZXJ9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuXG4vL2ltcG9ydCB7IFN3aXRjaCB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5cbmltcG9ydCBJc3N1ZUxpc3QgZnJvbSAnLi9Jc3N1ZUxpc3QuanN4JztcbmltcG9ydCBJc3N1ZUVkaXQgZnJvbSAnLi9Jc3N1ZUVkaXQuanN4JztcblxuY29uc3QgY29udGVudE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudHMnKTtcbmNvbnN0IE5vTWF0Y2ggPSAoKSA9PiA8cD5QYWdlIE5vdCBGb3VudDwvcD47XG5cbmNvbnN0IFJvdXRlZEFwcCA9ICgpID0+IChcbiAgPEhhc2hSb3V0ZXI+XG4gICAgPGRpdj5cbiAgICAgIDxSZWRpcmVjdCBmcm9tPVwiL1wiIHRvPVwiL2lzc3Vlc1wiIC8+XG4gICAgICA8Um91dGUgcGF0aD17XCIvaXNzdWVzXCJ9IGNvbXBvbmVudD17SXNzdWVMaXN0fSAvPlxuICAgICAgPFJvdXRlIHBhdGg9e1wiL2lzc3Vlcy86aWRcIn0gY29tcG9uZW50PXtJc3N1ZUVkaXR9IC8+XG4gICAgICA8Um91dGUgcGF0aD1cIipcIiBjb21wb25lbnQ9e05vTWF0Y2h9IC8+XG4gICAgPC9kaXY+XG4gIDwvSGFzaFJvdXRlcj5cbik7XG5cblxuUmVhY3RET00ucmVuZGVyKDxSb3V0ZWRBcHAgLz4sIGNvbnRlbnROb2RlKTtcblxuaWYgKG1vZHVsZS5ob3QpIHtcbiAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=