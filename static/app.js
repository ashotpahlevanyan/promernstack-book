!function(e){function t(t){for(var a,u,o=t[0],i=t[1],s=t[2],c=0,d=[];c<o.length;c++)u=o[c],r[u]&&d.push(r[u][0]),r[u]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(f&&f(t);d.length;)d.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(l.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={1:0},l=[];function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},u.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="./";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var f=i;l.push([403,0]),n()}({149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=o(n(6)),l=n(56),u=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}var i=[{title:"First Article",key:"first",text:"Hello from First article"},{title:"Second Article",key:"second",text:"Hello from Second article"},{title:"Third Article",key:"third",text:"Hello from Third article"},{title:"Fourth Article",key:"fourth",text:"Hello from Fourth article"}],s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"render",value:function(){var e=this,t=i.filter(function(t){return t.key===e.props.match.params.articleId})[0];return t?r.default.createElement("div",null,r.default.createElement("h3",{className:"title"},t.title),r.default.createElement("hr",null),r.default.createElement("p",{className:"text"},t.text)):r.default.createElement("div",null,"No Article with that key")}}]),t}(),f=function(e){var t=e.match;return r.default.createElement("div",{className:"articles"},r.default.createElement("h2",null,"Articles section"),r.default.createElement("ul",{className:"articles"},i.map(function(e){return r.default.createElement("li",{className:"article",key:e.key},r.default.createElement(l.Link,{to:t.url+"/"+e.key},e.title))})),r.default.createElement(l.Route,{path:t.url+"/:articleId",component:s}))};s.propTypes={match:u.default.shape({params:u.default.shape({articleId:u.default.string.isRequired})}).isRequired},f.propTypes={match:u.default.shape({}).isRequired},t.default=f},150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(6),l=(a=r)&&a.__esModule?a:{default:a};t.default=function(){return l.default.createElement("p",null,"Page Not Fount")}},151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=t.Header=t.Home=void 0;var a,r=n(6),l=(a=r)&&a.__esModule?a:{default:a};t.Home=function(){return l.default.createElement("div",{className:"home"},l.default.createElement("h1",null,"Home Section contents"))},t.Header=function(){return l.default.createElement("div",{className:"header"},l.default.createElement("h1",null,"Issue Tracker"))},t.Footer=function(){return l.default.createElement("div",{className:"footer"},"Full source code available at this ",l.default.createElement("a",{href:"https://github.com/ashotpahlevanyan/promernstack-book"},"Github repository"))}},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(6)),l=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:t.editFormat(e.value),focused:!1,valid:!0},n.onBlur=n.onBlur.bind(n),n.onChange=n.onChange.bind(n),n.onFocus=n.onFocus.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,null,[{key:"displayFormat",value:function(e){return e?new Date(e).toDateString():""}},{key:"editFormat",value:function(e){return e?new Date(e).toISOString().substr(0,10):""}},{key:"unformat",value:function(e){var t=new Date(e);return Number.isNaN(t.getTime())?null:t}}]),a(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:t.editFormat(e.value)})}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(e){var n=t.unformat(this.state.value),a=""===this.state.value||null!=n;a!==this.state.valid&&this.props.onValidityChange&&this.props.onValidityChange(e,a),this.setState({focused:!1,valid:a}),a&&this.props.onChange(e,n)}},{key:"onChange",value:function(e){e.target.value.match(/^[\d-]*$/)&&this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.state.valid||this.state.focused?null:"invalid",n=this.state.focused||!this.state.valid?this.state.value:t.displayFormat(this.props.value);return r.default.createElement("input",{type:"text",size:20,name:this.props.name,className:e,value:n,placeholder:this.state.focused?"yyyy-mm-dd":null,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange})}}]),t}();t.default=o,o.propTypes={value:l.default.shape({}).isRequired,onChange:l.default.func.isRequired,onValidityChange:l.default.func.isRequired,name:l.default.string.isRequired}},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=o(n(6)),u=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:t.format(n.props.value)},n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),r(t,null,[{key:"format",value:function(e){return null!=e?e.toString():""}},{key:"unformat",value:function(e){var t=parseInt(e,10);return Number.isNaN(t)?null:t}}]),r(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:t.format(e.value)})}},{key:"onBlur",value:function(e){this.props.onChange(e,t.unformat(this.state.value))}},{key:"onChange",value:function(e){e.target.value.match(/^\d*$/)&&this.setState({value:e.target.value})}},{key:"render",value:function(){return l.default.createElement("input",a({type:"text"},this.props,{value:this.state.value,onBlur:this.onBlur,onChange:this.onChange}))}}]),t}();t.default=i,i.propTypes={value:u.default.number.isRequired,onChange:u.default.func.isRequired}},154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(6)),l=n(56),u=s(n(10)),o=s(n(153)),i=s(n(152));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={issue:{_id:"",title:"",status:"",owner:"",effort:null,completionDate:"",created:null},invalidFields:{}},n.onChange=n.onChange.bind(n),n.loadData=n.loadData.bind(n),n.onValidityChange=n.onValidityChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.loadData()}},{key:"onChange",value:function(e,t){var n=Object.assign({},this.state.issue),a=void 0!==t?t:e.target.value;n[e.target.name]=a,this.setState({issue:n})}},{key:"onValidityChange",value:function(e,t){var n=Object.assign({},this.state.invalidFields);t?delete n[e.target.name]:n[e.target.name]=!0,this.setState({invalidFields:n})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),0===Object.keys(this.state.invalidFields).length&&fetch("/api/issues/"+this.props.match.params.id,{method:"put",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state.issue)}).then(function(e){e.ok&&e.json().then(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate)),t.setState({issue:e}),alert("Updated Issue Successfully")})}).catch(function(e){alert("Error in sending data to server: "+e.message)})}},{key:"loadData",value:function(){var e=this;fetch("/api/issues/"+this.props.match.params.id).then(function(t){t.ok?t.json().then(function(t){t.created=new Date(t.created),t.completionDate=null!=t.completionDate?new Date(t.completionDate).toDateString():"",e.setState({issue:t})}):t.json().then(function(e){alert("Failed to fetch issue : "+e.message)})}).catch(function(e){alert("Error in fetching data from server : "+e.message)})}},{key:"render",value:function(){var e=this.state.issue,t=0===Object.keys(this.state.invalidFields).length?null:r.default.createElement("div",{className:"error"},"Please correct invalid fields before submitting");return r.default.createElement("div",null,r.default.createElement("form",{onSubmit:this.onSubmit},"ID: ",e._id,r.default.createElement("br",null),"Created: ",e.created?e.created.toDateString():"",r.default.createElement("br",null),"Status:",r.default.createElement("select",{name:"status",value:e.status,onChange:this.onChange},r.default.createElement("option",{value:"New"},"New"),r.default.createElement("option",{value:"Open"},"Open"),r.default.createElement("option",{value:"Assigned"},"Assigned"),r.default.createElement("option",{value:"Fixed"},"Fixed"),r.default.createElement("option",{value:"Verified"},"Verified"),r.default.createElement("option",{value:"Closed"},"Closed")),r.default.createElement("br",null),"Owner:",r.default.createElement("input",{type:"text",name:"owner",value:e.owner,onChange:this.onChange}),r.default.createElement("br",null),"Effort:",r.default.createElement(o.default,{size:5,name:"effort",value:e.effort,onChange:this.onChange}),r.default.createElement("br",null),"Completion date:",r.default.createElement(i.default,{name:"completionDate",value:e.completionDate,onChange:this.onChange,onValidityChange:this.onValidityChange}),r.default.createElement("br",null),"Title:",r.default.createElement("input",{type:"text",size:50,name:"title",value:e.title,onChange:this.onChange}),r.default.createElement("br",null),t,r.default.createElement("button",{type:"submit"},"Submit"),r.default.createElement("br",null),r.default.createElement(l.Link,{to:"/issues"},"Back to issue list")))}}]),t}();t.default=f,f.propTypes={match:u.default.shape({params:u.default.shape({id:u.default.string})}).isRequired}},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(6)),l=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:e.initFilter.status||"",effort_gte:e.initFilter.effort_gte||"",effort_lte:e.initFilter.effort_lte||"",changed:!1},n.onChangeStatus=n.onChangeStatus.bind(n),n.onChangeEffortGte=n.onChangeEffortGte.bind(n),n.onChangeEffortLte=n.onChangeEffortLte.bind(n),n.applyFilter=n.applyFilter.bind(n),n.resetFilter=n.resetFilter.bind(n),n.clearFilter=n.clearFilter.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({status:e.initFilter.status||"",effort_gte:e.initFilter.effort_gte||"",effort_lte:e.initFilter.effort_lte||"",changed:!1})}},{key:"onChangeStatus",value:function(e){this.setState({status:e.target.value,changed:!0})}},{key:"onChangeEffortGte",value:function(e){e.target.value.match(/^\d*$/)&&this.setState({effort_gte:e.target.value,changed:!0})}},{key:"onChangeEffortLte",value:function(e){e.target.value.match(/^\d*$/)&&this.setState({effort_lte:e.target.value,changed:!0})}},{key:"applyFilter",value:function(){var e={};this.state.status&&(e.status=this.state.status),this.state.effort_gte&&(e.effort_gte=this.state.effort_gte),this.state.effort_lte&&(e.effort_lte=this.state.effort_lte),this.props.setFilter(e)}},{key:"clearFilter",value:function(){this.props.setFilter({})}},{key:"resetFilter",value:function(){this.setState({status:this.props.initFilter.status||"",effort_gte:this.props.initFilter.effort_gte||"",effort_lte:this.props.initFilter.effort_lte||"",changed:!1})}},{key:"render",value:function(){return r.default.createElement("div",null,"Status: ",r.default.createElement("select",{value:this.state.status,onChange:this.onChangeStatus},r.default.createElement("option",{value:""},"(Any)"),r.default.createElement("option",{value:"New"},"New"),r.default.createElement("option",{value:"Open"},"Open"),r.default.createElement("option",{value:"Assigned"},"Assigned"),r.default.createElement("option",{value:"Fixed"},"Fixed"),r.default.createElement("option",{value:"Verified"},"Verified"),r.default.createElement("option",{value:"Closed"},"Closed"))," Effort between: ",r.default.createElement("input",{size:5,value:this.state.effort_gte,onChange:this.onChangeEffortGte})," - ",r.default.createElement("input",{size:5,value:this.state.effort_lte,onChange:this.onChangeEffortLte}),r.default.createElement("button",{onClick:this.applyFilter},"Apply"),r.default.createElement("button",{onClick:this.resetFilter,disabled:!this.state.changed},"Reset"),r.default.createElement("button",{onClick:this.clearFilter},"Clear"))}}]),t}();o.propTypes={setFilter:l.default.func.isRequired,initFilter:l.default.shape({status:l.default.string.isRequired,effort_gte:l.default.string.isRequired,effort_lte:l.default.string.isRequired}).isRequired},t.default=o},156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(6)),l=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=e.handleSubmit.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.forms.issueAdd;this.props.createIssue({owner:t.owner.value,title:t.title.value,status:"New",created:new Date}),t.owner.value="",t.title.value=""}},{key:"render",value:function(){return r.default.createElement("div",null,r.default.createElement("form",{name:"issueAdd",onSubmit:this.handleSubmit},r.default.createElement("input",{type:"text",name:"owner",placeholder:"Owner"}),r.default.createElement("input",{type:"text",name:"title",placeholder:"Title"}),r.default.createElement("button",null,"Add")))}}]),t}();t.default=o,o.propTypes={createIssue:l.default.func.isRequired}},158:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=s(n(6));n(157);var l=s(n(10)),u=n(56),o=s(n(156)),i=s(n(155));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={issues:[],query:{status:"",effort_gte:"",effort_lte:""}},n.createIssue=n.createIssue.bind(n),n.loadData=n.loadData.bind(n),n.setFilter=n.setFilter.bind(n),n.deleteIssue=n.deleteIssue.bind(n),n.setFilter(n.state.query),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,null,[{key:"constructQuery",value:function(e){return""+(e.status?"status="+e.status:"")+(e.effort_gte?"&effort_gte="+e.effort_gte:"")+(e.effort_lte?"&effort_lte="+e.effort_lte:"")}}]),a(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){var t=e.location,n=this.props.location;t.search!==n.search&&this.loadData()}},{key:"setFilter",value:function(e){this.setState({query:e}),this.props.history.push({pathname:this.props.location.pathname,search:t.constructQuery(e),query:e})}},{key:"loadData",value:function(){var e=this;fetch("/api/issues"+this.props.location.search).then(function(t){t.ok?t.json().then(function(t){t.records.forEach(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate))}),e.setState({issues:t.records})}):t.json().then(function(e){alert("Failed to fetch issue: "+e.message)})}).catch(function(e){alert("Error in fetching data from server + "+e.message)})}},{key:"createIssue",value:function(e){var t=this;fetch("/api/issues/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){e.ok?e.json().then(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate));var n=t.state.issues.concat(e);t.setState({issues:n})}):e.json().then(function(e){alert("Failed to add issue: "+e.message)})}).catch(function(e){alert("Error in sending Data to server : "+e.message)})}},{key:"deleteIssue",value:function(e){var t=this;fetch("/api/issues/"+e,{method:"DELETE"}).then(function(e){e.ok?t.loadData():alert("Failed to delete issue")})}},{key:"render",value:function(){return r.default.createElement("div",null,r.default.createElement(i.default,{setFilter:this.setFilter,initFilter:this.state.query}),r.default.createElement("hr",null),r.default.createElement(d,{issues:this.state.issues,deleteIssue:this.deleteIssue}),r.default.createElement("hr",null),r.default.createElement(o.default,{createIssue:this.createIssue}))}}]),t}(),c=function(e){return r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement(u.Link,{to:"/issues/"+e.issue._id},e.issue._id.substr(-4))),r.default.createElement("td",null,e.issue.status),r.default.createElement("td",null,e.issue.owner),r.default.createElement("td",null,e.issue.created.toDateString()),r.default.createElement("td",null,e.issue.effort),r.default.createElement("td",null,e.issue.completionDate?e.issue.completionDate.toDateString():""),r.default.createElement("td",null,e.issue.title),r.default.createElement("td",null,r.default.createElement("button",{onClick:function(){e.deleteIssue(e.issue._id)}},"Delete")))};function d(e){var t=e.issues.map(function(t){return r.default.createElement(c,{key:t._id,issue:t,deleteIssue:e.deleteIssue})});return r.default.createElement("table",{className:"bordered-table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",null,"Id"),r.default.createElement("th",null,"Status"),r.default.createElement("th",null,"Owner"),r.default.createElement("th",null,"Created"),r.default.createElement("th",null,"Effort"),r.default.createElement("th",null,"Completion date"),r.default.createElement("th",null,"Title"),r.default.createElement("th",null))),r.default.createElement("tbody",null,t))}c.propTypes={issue:l.default.shape({owner:l.default.string.isRequired,title:l.default.string.isRequired,_id:l.default.string,status:l.default.string,created:l.default.string,effort:l.default.number,completionDate:l.default.string}).isRequired,deleteIssue:l.default.func.isRequired},d.propTypes={issues:l.default.arrayOf({}).isRequired,deleteIssue:l.default.func.isRequired},f.propTypes={location:l.default.shape({pathname:l.default.string.isRequired,search:l.default.string.isRequired,query:l.default.shape({}).isRequired}).isRequired,history:l.default.shape({push:l.default.func.isRequired}).isRequired},t.default=f},402:function(e,t,n){"use strict";n(401);var a=c(n(6)),r=c(n(197)),l=n(56),u=c(n(158)),o=c(n(154)),i=n(151),s=c(n(150)),f=c(n(149));function c(e){return e&&e.__esModule?e:{default:e}}var d=document.getElementById("contents");r.default.render(a.default.createElement(function(){return a.default.createElement(l.BrowserRouter,null,a.default.createElement("div",null,a.default.createElement(i.Header,null),a.default.createElement("ul",null,a.default.createElement("li",null,a.default.createElement(l.Link,{to:"/"},"Home")),a.default.createElement("li",null,a.default.createElement(l.Link,{to:"/issues"},"Issues")),a.default.createElement("li",null,a.default.createElement(l.Link,{to:"/articles"},"Articles"))),a.default.createElement("hr",null),a.default.createElement(l.Switch,null,a.default.createElement(l.Route,{exact:!0,path:"/",component:i.Home}),a.default.createElement(l.Route,{exact:!0,path:"/issues",component:(0,l.withRouter)(u.default)}),a.default.createElement(l.Route,{exact:!0,path:"/issues/:id",component:o.default}),a.default.createElement(l.Route,{path:"/articles",component:f.default}),a.default.createElement(l.Route,{path:"/*",component:s.default})),a.default.createElement(i.Footer,null)))},null),d)},403:function(e,t,n){e.exports=n(402)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FydGljbGVzLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvTm90Rm91bmQuanN4Iiwid2VicGFjazovLy8uL3NyYy9Db21tb24uanN4Iiwid2VicGFjazovLy8uL3NyYy9EYXRlSW5wdXQuanN4Iiwid2VicGFjazovLy8uL3NyYy9OdW1JbnB1dC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0lzc3VlRWRpdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0lzc3VlRmlsdGVyLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvSXNzdWVBZGQuanN4Iiwid2VicGFjazovLy8uL3NyYy9Jc3N1ZUxpc3QuanN4Iiwid2VicGFjazovLy8uL3NyYy9BcHAuanN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsbGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjEiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsImJpbmQiLCJzbGljZSIsIl9yZWFjdFJvdXRlckRvbSIsImFydGljbGVzIiwidGl0bGUiLCJrZXkiLCJ0ZXh0IiwiQXJ0aWNsZSIsIl9yZWFjdDIiLCJkZWZhdWx0IiwiQ29tcG9uZW50IiwiX3RoaXMyIiwidGhpcyIsImFydGljbGUiLCJmaWx0ZXIiLCJhcnQiLCJwcm9wcyIsIm1hdGNoIiwicGFyYW1zIiwiYXJ0aWNsZUlkIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsIkFydGljbGVzIiwiX3JlZiIsIm1hcCIsIkxpbmsiLCJ0byIsInVybCIsIlJvdXRlIiwicGF0aCIsImNvbXBvbmVudCIsInByb3BUeXBlcyIsIl9wcm9wVHlwZXMyIiwic2hhcGUiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwiX3JlYWN0IiwiSG9tZSIsIkhlYWRlciIsIkZvb3RlciIsImhyZWYiLCJEYXRlSW5wdXQiLCJfY2xhc3NDYWxsQ2hlY2siLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJzdGF0ZSIsImVkaXRGb3JtYXQiLCJmb2N1c2VkIiwidmFsaWQiLCJvbkJsdXIiLCJvbkNoYW5nZSIsIm9uRm9jdXMiLCJkYXRlIiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsInRvSVNPU3RyaW5nIiwic3Vic3RyIiwic3RyIiwidmFsIiwiTnVtYmVyIiwiaXNOYU4iLCJnZXRUaW1lIiwibmV3UHJvcHMiLCJzZXRTdGF0ZSIsImUiLCJ1bmZvcm1hdCIsIm9uVmFsaWRpdHlDaGFuZ2UiLCJ0YXJnZXQiLCJkaXNwbGF5Rm9ybWF0IiwidHlwZSIsInNpemUiLCJwbGFjZWhvbGRlciIsImZ1bmMiLCJOdW1JbnB1dCIsImZvcm1hdCIsIm51bSIsInRvU3RyaW5nIiwicGFyc2VJbnQiLCJfZXh0ZW5kcyIsIm51bWJlciIsIklzc3VlRWRpdCIsImlzc3VlIiwiX2lkIiwic3RhdHVzIiwib3duZXIiLCJlZmZvcnQiLCJjb21wbGV0aW9uRGF0ZSIsImNyZWF0ZWQiLCJpbnZhbGlkRmllbGRzIiwibG9hZERhdGEiLCJvblN1Ym1pdCIsInByZXZQcm9wcyIsImlkIiwiZXZlbnQiLCJjb252ZXJ0ZWRWYWx1ZSIsImFzc2lnbiIsInVuZGVmaW5lZCIsInByZXZlbnREZWZhdWx0Iiwia2V5cyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkNvbnRlbnQtdHlwZSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJqc29uIiwidXBkYXRlZElzc3VlIiwiYWxlcnQiLCJjYXRjaCIsImVyciIsIm1lc3NhZ2UiLCJfdGhpczMiLCJlcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX051bUlucHV0MiIsIl9EYXRlSW5wdXQyIiwiSXNzdWVGaWx0ZXIiLCJpbml0RmlsdGVyIiwiZWZmb3J0X2d0ZSIsImVmZm9ydF9sdGUiLCJjaGFuZ2VkIiwib25DaGFuZ2VTdGF0dXMiLCJvbkNoYW5nZUVmZm9ydEd0ZSIsIm9uQ2hhbmdlRWZmb3J0THRlIiwiYXBwbHlGaWx0ZXIiLCJyZXNldEZpbHRlciIsImNsZWFyRmlsdGVyIiwibmV3RmlsdGVyIiwic2V0RmlsdGVyIiwib25DbGljayIsImRpc2FibGVkIiwiSXNzdWVBZGQiLCJoYW5kbGVTdWJtaXQiLCJmb3JtIiwiZG9jdW1lbnQiLCJmb3JtcyIsImlzc3VlQWRkIiwiY3JlYXRlSXNzdWUiLCJJc3N1ZUxpc3QiLCJpc3N1ZXMiLCJxdWVyeSIsImRlbGV0ZUlzc3VlIiwic2VhcmNoUXVlcnkiLCJvbGRRdWVyeSIsImxvY2F0aW9uIiwibmV3UXVlcnkiLCJzZWFyY2giLCJoaXN0b3J5IiwicGF0aG5hbWUiLCJjb25zdHJ1Y3RRdWVyeSIsInJlY29yZHMiLCJmb3JFYWNoIiwibmV3SXNzdWUiLCJDb250ZW50LVR5cGUiLCJuZXdJc3N1ZXMiLCJjb25jYXQiLCJfdGhpczQiLCJfSXNzdWVGaWx0ZXIyIiwiSXNzdWVUYWJsZSIsIl9Jc3N1ZUFkZDIiLCJJc3N1ZVJvdyIsImlzc3VlUm93cyIsImFycmF5T2YiLCJfQ29tbW9uIiwiY29udGVudE5vZGUiLCJnZXRFbGVtZW50QnlJZCIsIl9yZWFjdERvbTIiLCJyZW5kZXIiLCJCcm93c2VyUm91dGVyIiwiU3dpdGNoIiwiZXhhY3QiLCJ3aXRoUm91dGVyIiwiX0lzc3VlTGlzdDIiLCJfSXNzdWVFZGl0MiIsIl9BcnRpY2xlczIiLCJfTm90Rm91bmQyIl0sIm1hcHBpbmdzIjoiYUFDQSxTQUFBQSxFQUFBQyxHQU9BLElBTkEsSUFLQUMsRUFBQUMsRUFMQUMsRUFBQUgsRUFBQSxHQUNBSSxFQUFBSixFQUFBLEdBQ0FLLEVBQUFMLEVBQUEsR0FHQU0sRUFBQSxFQUFBQyxLQUNRRCxFQUFBSCxFQUFBSyxPQUFvQkYsSUFDNUJKLEVBQUFDLEVBQUFHLEdBQ0FHLEVBQUFQLElBQ0FLLEVBQUFHLEtBQUFELEVBQUFQLEdBQUEsSUFFQU8sRUFBQVAsR0FBQSxFQUVBLElBQUFELEtBQUFHLEVBQ0FPLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFWLEVBQUFILEtBQ0FjLEVBQUFkLEdBQUFHLEVBQUFILElBSUEsSUFEQWUsS0FBQWhCLEdBQ0FPLEVBQUFDLFFBQ0FELEVBQUFVLE9BQUFWLEdBT0EsT0FIQVcsRUFBQVIsS0FBQVMsTUFBQUQsRUFBQWIsT0FHQWUsSUFFQSxTQUFBQSxJQUVBLElBREEsSUFBQUMsRUFDQWYsRUFBQSxFQUFpQkEsRUFBQVksRUFBQVYsT0FBNEJGLElBQUEsQ0FHN0MsSUFGQSxJQUFBZ0IsRUFBQUosRUFBQVosR0FDQWlCLEdBQUEsRUFDQUMsRUFBQSxFQUFrQkEsRUFBQUYsRUFBQWQsT0FBMkJnQixJQUFBLENBQzdDLElBQUFDLEVBQUFILEVBQUFFLEdBQ0EsSUFBQWYsRUFBQWdCLEtBQUFGLEdBQUEsR0FFQUEsSUFDQUwsRUFBQVEsT0FBQXBCLElBQUEsR0FDQWUsRUFBQU0sSUFBQUMsRUFBQU4sRUFBQSxLQUdBLE9BQUFE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RUFBQXpLLFdBQ3ZDRCxFQUFBQyxRQUFBVyxjQUFBbEIsRUFBQTBCLE9BQU9vSixPQUFBLEVBQU1uSixLQUFLLGNBQWNDLFVBQUFxSixFQUFBMUssVUFDaENELEVBQUFDLFFBQUFXLGNBQUFsQixFQUFBMEIsT0FBT0MsS0FBSyxZQUFZQyxVQUFBc0osRUFBQTNLLFVBQ3hCRCxFQUFBQyxRQUFBVyxjQUFBbEIsRUFBQTBCLE9BQU9DLEtBQUssS0FBS0MsVUFBQXVKLEVBQUE1SyxXQUVuQkQsRUFBQUMsUUFBQVcsY0FBQXFKLEVBQUFsSSxPQUFBLFNBS1UsTUFBZW1JIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdXG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsbGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsbGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQxOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi4vXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFs0MDMsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUm91dGUsIExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmNvbnN0IGFydGljbGVzID0gW1xuICB7IHRpdGxlOiAnRmlyc3QgQXJ0aWNsZScsIGtleTogJ2ZpcnN0JywgdGV4dDogJ0hlbGxvIGZyb20gRmlyc3QgYXJ0aWNsZScgfSxcbiAgeyB0aXRsZTogJ1NlY29uZCBBcnRpY2xlJywga2V5OiAnc2Vjb25kJywgdGV4dDogJ0hlbGxvIGZyb20gU2Vjb25kIGFydGljbGUnIH0sXG4gIHsgdGl0bGU6ICdUaGlyZCBBcnRpY2xlJywga2V5OiAndGhpcmQnLCB0ZXh0OiAnSGVsbG8gZnJvbSBUaGlyZCBhcnRpY2xlJyB9LFxuICB7IHRpdGxlOiAnRm91cnRoIEFydGljbGUnLCBrZXk6ICdmb3VydGgnLCB0ZXh0OiAnSGVsbG8gZnJvbSBGb3VydGggYXJ0aWNsZScgfSxcbl07XG5cbmNsYXNzIEFydGljbGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgYXJ0aWNsZSA9IGFydGljbGVzLmZpbHRlcihhcnQgPT4gYXJ0LmtleSA9PT0gdGhpcy5wcm9wcy5tYXRjaC5wYXJhbXMuYXJ0aWNsZUlkKVswXTtcbiAgICBsZXQgdGVtcGxhdGU7XG4gICAgaWYgKGFydGljbGUpIHtcbiAgICAgIHRlbXBsYXRlID0gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0aXRsZVwiPnthcnRpY2xlLnRpdGxlfTwvaDM+XG4gICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dFwiPnthcnRpY2xlLnRleHR9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBsYXRlID0gPGRpdj5ObyBBcnRpY2xlIHdpdGggdGhhdCBrZXk8L2Rpdj47XG4gICAgfVxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxufVxuXG5jb25zdCBBcnRpY2xlcyA9ICh7IG1hdGNoIH0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJhcnRpY2xlc1wiPlxuICAgIDxoMj5BcnRpY2xlcyBzZWN0aW9uPC9oMj5cbiAgICA8dWwgY2xhc3NOYW1lPVwiYXJ0aWNsZXNcIj5cbiAgICAgIHtcbiAgICAgICAgYXJ0aWNsZXMubWFwKGFydGljbGUgPT4gKFxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJhcnRpY2xlXCIga2V5PXthcnRpY2xlLmtleX0+XG4gICAgICAgICAgICA8TGluayB0bz17YCR7bWF0Y2gudXJsfS8ke2FydGljbGUua2V5fWB9PnthcnRpY2xlLnRpdGxlfTwvTGluaz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApKVxuICAgICAgfVxuICAgIDwvdWw+XG4gICAgPFJvdXRlIHBhdGg9e2Ake21hdGNoLnVybH0vOmFydGljbGVJZGB9IGNvbXBvbmVudD17QXJ0aWNsZX0gLz5cbiAgPC9kaXY+XG4pO1xuXG5BcnRpY2xlLnByb3BUeXBlcyA9IHtcbiAgbWF0Y2g6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgYXJ0aWNsZUlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgfSksXG4gIH0pLmlzUmVxdWlyZWQsXG59O1xuXG5BcnRpY2xlcy5wcm9wVHlwZXMgPSB7XG4gIG1hdGNoOiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBBcnRpY2xlcztcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IE5vdEZvdW5kID0gKCkgPT4gKFxuICA8cD5QYWdlIE5vdCBGb3VudDwvcD5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IE5vdEZvdW5kO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgSG9tZSA9ICgpID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJob21lXCI+XG4gICAgPGgxPkhvbWUgU2VjdGlvbiBjb250ZW50czwvaDE+XG4gIDwvZGl2PlxuKTtcblxuY29uc3QgSGVhZGVyID0gKCkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgIDxoMT5Jc3N1ZSBUcmFja2VyPC9oMT5cbiAgPC9kaXY+XG4pO1xuY29uc3QgRm9vdGVyID0gKCkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cImZvb3RlclwiPlxuICAgIEZ1bGwgc291cmNlIGNvZGUgYXZhaWxhYmxlIGF0IHRoaXMgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9hc2hvdHBhaGxldmFueWFuL3Byb21lcm5zdGFjay1ib29rXCI+R2l0aHViIHJlcG9zaXRvcnk8L2E+XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IHtcbiAgSG9tZSxcbiAgSGVhZGVyLFxuICBGb290ZXIsXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGVJbnB1dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBkaXNwbGF5Rm9ybWF0KGRhdGUpIHtcbiAgICByZXR1cm4gKGRhdGUpID8gbmV3IERhdGUoZGF0ZSkudG9EYXRlU3RyaW5nKCkgOiAnJztcbiAgfVxuXG4gIHN0YXRpYyBlZGl0Rm9ybWF0KGRhdGUpIHtcbiAgICByZXR1cm4gKGRhdGUpID8gbmV3IERhdGUoZGF0ZSkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApIDogJyc7XG4gIH1cblxuICBzdGF0aWMgdW5mb3JtYXQoc3RyKSB7XG4gICAgY29uc3QgdmFsID0gbmV3IERhdGUoc3RyKTtcbiAgICByZXR1cm4gTnVtYmVyLmlzTmFOKHZhbC5nZXRUaW1lKCkpID8gbnVsbCA6IHZhbDtcbiAgfVxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogRGF0ZUlucHV0LmVkaXRGb3JtYXQocHJvcHMudmFsdWUpLFxuICAgICAgZm9jdXNlZDogZmFsc2UsXG4gICAgICB2YWxpZDogdHJ1ZSxcbiAgICB9O1xuXG4gICAgdGhpcy5vbkJsdXIgPSB0aGlzLm9uQmx1ci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkZvY3VzID0gdGhpcy5vbkZvY3VzLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzKSB7XG4gICAgaWYgKG5ld1Byb3BzLnZhbHVlICE9PSB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IERhdGVJbnB1dC5lZGl0Rm9ybWF0KG5ld1Byb3BzLnZhbHVlKSB9KTtcbiAgICB9XG4gIH1cblxuICBvbkZvY3VzKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1c2VkOiB0cnVlIH0pO1xuICB9XG5cbiAgb25CbHVyKGUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IERhdGVJbnB1dC51bmZvcm1hdCh0aGlzLnN0YXRlLnZhbHVlKTtcbiAgICBjb25zdCB2YWxpZCA9IHRoaXMuc3RhdGUudmFsdWUgPT09ICcnIHx8IHZhbHVlICE9IG51bGw7XG4gICAgaWYgKHZhbGlkICE9PSB0aGlzLnN0YXRlLnZhbGlkICYmIHRoaXMucHJvcHMub25WYWxpZGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vblZhbGlkaXR5Q2hhbmdlKGUsIHZhbGlkKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZvY3VzZWQ6IGZhbHNlLCB2YWxpZCB9KTtcbiAgICBpZiAodmFsaWQpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoZSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlKGUpIHtcbiAgICBpZiAoZS50YXJnZXQudmFsdWUubWF0Y2goL15bXFxkLV0qJC8pKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbGFzc05hbWUgPSAoIXRoaXMuc3RhdGUudmFsaWQgJiYgIXRoaXMuc3RhdGUuZm9jdXNlZCkgPyAnaW52YWxpZCcgOiBudWxsO1xuICAgIGNvbnN0IHZhbHVlID0gKHRoaXMuc3RhdGUuZm9jdXNlZCB8fCAhdGhpcy5zdGF0ZS52YWxpZCkgPyB0aGlzLnN0YXRlLnZhbHVlIDpcbiAgICAgIERhdGVJbnB1dC5kaXNwbGF5Rm9ybWF0KHRoaXMucHJvcHMudmFsdWUpO1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICBzaXplPXsyMH1cbiAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5uYW1lfVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5zdGF0ZS5mb2N1c2VkID8gJ3l5eXktbW0tZGQnIDogbnVsbH1cbiAgICAgICAgb25Gb2N1cz17dGhpcy5vbkZvY3VzfVxuICAgICAgICBvbkJsdXI9e3RoaXMub25CbHVyfVxuICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5EYXRlSW5wdXQucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogUHJvcFR5cGVzLnNoYXBlKHt9KS5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgb25WYWxpZGl0eUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxufTtcblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE51bUlucHV0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIGZvcm1hdChudW0pIHtcbiAgICByZXR1cm4gbnVtICE9IG51bGwgPyBudW0udG9TdHJpbmcoKSA6ICcnO1xuICB9XG5cbiAgc3RhdGljIHVuZm9ybWF0KHN0cikge1xuICAgIGNvbnN0IHZhbCA9IHBhcnNlSW50KHN0ciwgMTApO1xuICAgIHJldHVybiBOdW1iZXIuaXNOYU4odmFsKSA/IG51bGwgOiB2YWw7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7IHZhbHVlOiBOdW1JbnB1dC5mb3JtYXQodGhpcy5wcm9wcy52YWx1ZSkgfTtcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25CbHVyID0gdGhpcy5vbkJsdXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IE51bUlucHV0LmZvcm1hdChuZXdQcm9wcy52YWx1ZSkgfSk7XG4gIH1cblxuICBvbkJsdXIoZSkge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoZSwgTnVtSW5wdXQudW5mb3JtYXQodGhpcy5zdGF0ZS52YWx1ZSkpO1xuICB9XG5cbiAgb25DaGFuZ2UoZSkge1xuICAgIGlmIChlLnRhcmdldC52YWx1ZS5tYXRjaCgvXlxcZCokLykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogZS50YXJnZXQudmFsdWUgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudmFsdWV9XG4gICAgICAgIG9uQmx1cj17dGhpcy5vbkJsdXJ9XG4gICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbk51bUlucHV0LnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBOdW1JbnB1dCBmcm9tICcuL051bUlucHV0LmpzeCc7XG5pbXBvcnQgRGF0ZUlucHV0IGZyb20gJy4vRGF0ZUlucHV0LmpzeCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXNzdWVFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc3N1ZToge1xuICAgICAgICBfaWQ6ICcnLFxuICAgICAgICB0aXRsZTogJycsXG4gICAgICAgIHN0YXR1czogJycsXG4gICAgICAgIG93bmVyOiAnJyxcbiAgICAgICAgZWZmb3J0OiBudWxsLFxuICAgICAgICBjb21wbGV0aW9uRGF0ZTogJycsXG4gICAgICAgIGNyZWF0ZWQ6IG51bGwsXG4gICAgICB9LFxuICAgICAgaW52YWxpZEZpZWxkczoge30sXG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5sb2FkRGF0YSA9IHRoaXMubG9hZERhdGEuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVmFsaWRpdHlDaGFuZ2UgPSB0aGlzLm9uVmFsaWRpdHlDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU3VibWl0ID0gdGhpcy5vblN1Ym1pdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5sb2FkRGF0YSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmIChwcmV2UHJvcHMubWF0Y2gucGFyYW1zLmlkICE9PSB0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZCkge1xuICAgICAgdGhpcy5sb2FkRGF0YSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlKGV2ZW50LCBjb252ZXJ0ZWRWYWx1ZSkge1xuICAgIGNvbnN0IGlzc3VlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5pc3N1ZSk7XG4gICAgY29uc3QgdmFsdWUgPSAoY29udmVydGVkVmFsdWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgY29udmVydGVkVmFsdWUgOiBldmVudC50YXJnZXQudmFsdWU7XG4gICAgaXNzdWVbZXZlbnQudGFyZ2V0Lm5hbWVdID0gdmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzc3VlIH0pO1xuICB9XG5cbiAgb25WYWxpZGl0eUNoYW5nZShldmVudCwgdmFsaWQpIHtcbiAgICBjb25zdCBpbnZhbGlkRmllbGRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5pbnZhbGlkRmllbGRzKTtcbiAgICBpZiAoIXZhbGlkKSB7XG4gICAgICBpbnZhbGlkRmllbGRzW2V2ZW50LnRhcmdldC5uYW1lXSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSBpbnZhbGlkRmllbGRzW2V2ZW50LnRhcmdldC5uYW1lXTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGludmFsaWRGaWVsZHMgfSk7XG4gIH1cblxuICBvblN1Ym1pdChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zdGF0ZS5pbnZhbGlkRmllbGRzKS5sZW5ndGggIT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmZXRjaChgL2FwaS9pc3N1ZXMvJHt0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZH1gLCB7XG4gICAgICBtZXRob2Q6ICdwdXQnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlLmlzc3VlKSxcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKCh1cGRhdGVkSXNzdWUpID0+IHtcbiAgICAgICAgICB1cGRhdGVkSXNzdWUuY3JlYXRlZCA9IG5ldyBEYXRlKHVwZGF0ZWRJc3N1ZS5jcmVhdGVkKTtcbiAgICAgICAgICBpZiAodXBkYXRlZElzc3VlLmNvbXBsZXRpb25EYXRlKSB7XG4gICAgICAgICAgICB1cGRhdGVkSXNzdWUuY29tcGxldGlvbkRhdGUgPSBuZXcgRGF0ZSh1cGRhdGVkSXNzdWUuY29tcGxldGlvbkRhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNzdWU6IHVwZGF0ZWRJc3N1ZSB9KTtcbiAgICAgICAgICBhbGVydCgnVXBkYXRlZCBJc3N1ZSBTdWNjZXNzZnVsbHknKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgYWxlcnQoYEVycm9yIGluIHNlbmRpbmcgZGF0YSB0byBzZXJ2ZXI6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkRGF0YSgpIHtcbiAgICBmZXRjaChgL2FwaS9pc3N1ZXMvJHt0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZH1gKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChpc3N1ZSkgPT4ge1xuICAgICAgICAgICAgaXNzdWUuY3JlYXRlZCA9IG5ldyBEYXRlKGlzc3VlLmNyZWF0ZWQpO1xuICAgICAgICAgICAgaXNzdWUuY29tcGxldGlvbkRhdGUgPSBpc3N1ZS5jb21wbGV0aW9uRGF0ZSAhPSBudWxsID9cbiAgICAgICAgICAgICAgbmV3IERhdGUoaXNzdWUuY29tcGxldGlvbkRhdGUpLnRvRGF0ZVN0cmluZygpIDogJyc7XG4gICAgICAgICAgICAvLyBpc3N1ZS5lZmZvcnQgPSBpc3N1ZS5lZmZvcnQgIT0gbnVsbCA/IGlzc3VlLmVmZm9ydC50b1N0cmluZygpIDogJyc7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNzdWUgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBhbGVydChgRmFpbGVkIHRvIGZldGNoIGlzc3VlIDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGFsZXJ0KGBFcnJvciBpbiBmZXRjaGluZyBkYXRhIGZyb20gc2VydmVyIDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzc3VlID0gdGhpcy5zdGF0ZS5pc3N1ZTtcbiAgICBjb25zdCB2YWxpZGF0aW9uTWVzc2FnZSA9IE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuaW52YWxpZEZpZWxkcylcbiAgICAgIC5sZW5ndGggPT09IDAgPyBudWxsIDpcbiAgICAgICg8ZGl2IGNsYXNzTmFtZT1cImVycm9yXCI+UGxlYXNlIGNvcnJlY3QgaW52YWxpZCBmaWVsZHMgYmVmb3JlIHN1Ym1pdHRpbmc8L2Rpdj4pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLm9uU3VibWl0fT5cbiAgICAgICAgICBJRDoge2lzc3VlLl9pZH1cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICBDcmVhdGVkOiB7aXNzdWUuY3JlYXRlZCA/IGlzc3VlLmNyZWF0ZWQudG9EYXRlU3RyaW5nKCkgOiAnJ31cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICBTdGF0dXM6XG4gICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgbmFtZT1cInN0YXR1c1wiXG4gICAgICAgICAgICB2YWx1ZT17aXNzdWUuc3RhdHVzfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk5ld1wiPk5ldzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk9wZW5cIj5PcGVuPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQXNzaWduZWRcIj5Bc3NpZ25lZDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkZpeGVkXCI+Rml4ZWQ8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJWZXJpZmllZFwiPlZlcmlmaWVkPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQ2xvc2VkXCI+Q2xvc2VkPC9vcHRpb24+XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgT3duZXI6XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBuYW1lPVwib3duZXJcIlxuICAgICAgICAgICAgdmFsdWU9e2lzc3VlLm93bmVyfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICBFZmZvcnQ6XG4gICAgICAgICAgPE51bUlucHV0XG4gICAgICAgICAgICBzaXplPXs1fVxuICAgICAgICAgICAgbmFtZT1cImVmZm9ydFwiXG4gICAgICAgICAgICB2YWx1ZT17aXNzdWUuZWZmb3J0fVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICBDb21wbGV0aW9uIGRhdGU6XG4gICAgICAgICAgPERhdGVJbnB1dFxuICAgICAgICAgICAgbmFtZT1cImNvbXBsZXRpb25EYXRlXCJcbiAgICAgICAgICAgIHZhbHVlPXtpc3N1ZS5jb21wbGV0aW9uRGF0ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgb25WYWxpZGl0eUNoYW5nZT17dGhpcy5vblZhbGlkaXR5Q2hhbmdlfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgVGl0bGU6XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBzaXplPXs1MH1cbiAgICAgICAgICAgIG5hbWU9XCJ0aXRsZVwiXG4gICAgICAgICAgICB2YWx1ZT17aXNzdWUudGl0bGV9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxiciAvPlxuICAgICAgICAgIHt2YWxpZGF0aW9uTWVzc2FnZX1cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5TdWJtaXQ8L2J1dHRvbj5cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICA8TGluayB0bz1cIi9pc3N1ZXNcIj5CYWNrIHRvIGlzc3VlIGxpc3Q8L0xpbms+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuSXNzdWVFZGl0LnByb3BUeXBlcyA9IHtcbiAgbWF0Y2g6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gIH0pLmlzUmVxdWlyZWQsXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmNsYXNzIElzc3VlRmlsdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzdGF0dXM6IHByb3BzLmluaXRGaWx0ZXIuc3RhdHVzIHx8ICcnLFxuICAgICAgZWZmb3J0X2d0ZTogcHJvcHMuaW5pdEZpbHRlci5lZmZvcnRfZ3RlIHx8ICcnLFxuICAgICAgZWZmb3J0X2x0ZTogcHJvcHMuaW5pdEZpbHRlci5lZmZvcnRfbHRlIHx8ICcnLFxuICAgICAgY2hhbmdlZDogZmFsc2UsXG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2VTdGF0dXMgPSB0aGlzLm9uQ2hhbmdlU3RhdHVzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNoYW5nZUVmZm9ydEd0ZSA9IHRoaXMub25DaGFuZ2VFZmZvcnRHdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2hhbmdlRWZmb3J0THRlID0gdGhpcy5vbkNoYW5nZUVmZm9ydEx0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXBwbHlGaWx0ZXIgPSB0aGlzLmFwcGx5RmlsdGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldEZpbHRlciA9IHRoaXMucmVzZXRGaWx0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsZWFyRmlsdGVyID0gdGhpcy5jbGVhckZpbHRlci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc3RhdHVzOiBuZXdQcm9wcy5pbml0RmlsdGVyLnN0YXR1cyB8fCAnJyxcbiAgICAgIGVmZm9ydF9ndGU6IG5ld1Byb3BzLmluaXRGaWx0ZXIuZWZmb3J0X2d0ZSB8fCAnJyxcbiAgICAgIGVmZm9ydF9sdGU6IG5ld1Byb3BzLmluaXRGaWx0ZXIuZWZmb3J0X2x0ZSB8fCAnJyxcbiAgICAgIGNoYW5nZWQ6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgb25DaGFuZ2VTdGF0dXMoZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzdGF0dXM6IGUudGFyZ2V0LnZhbHVlLCBjaGFuZ2VkOiB0cnVlIH0pO1xuICB9XG5cbiAgb25DaGFuZ2VFZmZvcnRHdGUoZSkge1xuICAgIGNvbnN0IGVmZm9ydFN0cmluZyA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChlZmZvcnRTdHJpbmcubWF0Y2goL15cXGQqJC8pKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZWZmb3J0X2d0ZTogZS50YXJnZXQudmFsdWUsIGNoYW5nZWQ6IHRydWUgfSk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2VFZmZvcnRMdGUoZSkge1xuICAgIGNvbnN0IGVmZm9ydFN0cmluZyA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChlZmZvcnRTdHJpbmcubWF0Y2goL15cXGQqJC8pKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZWZmb3J0X2x0ZTogZS50YXJnZXQudmFsdWUsIGNoYW5nZWQ6IHRydWUgfSk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHlGaWx0ZXIoKSB7XG4gICAgY29uc3QgbmV3RmlsdGVyID0ge307XG4gICAgaWYgKHRoaXMuc3RhdGUuc3RhdHVzKSB7XG4gICAgICBuZXdGaWx0ZXIuc3RhdHVzID0gdGhpcy5zdGF0ZS5zdGF0dXM7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLmVmZm9ydF9ndGUpIHtcbiAgICAgIG5ld0ZpbHRlci5lZmZvcnRfZ3RlID0gdGhpcy5zdGF0ZS5lZmZvcnRfZ3RlO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5lZmZvcnRfbHRlKSB7XG4gICAgICBuZXdGaWx0ZXIuZWZmb3J0X2x0ZSA9IHRoaXMuc3RhdGUuZWZmb3J0X2x0ZTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5zZXRGaWx0ZXIobmV3RmlsdGVyKTtcbiAgfVxuXG4gIGNsZWFyRmlsdGVyKCkge1xuICAgIHRoaXMucHJvcHMuc2V0RmlsdGVyKHt9KTtcbiAgfVxuXG4gIHJlc2V0RmlsdGVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc3RhdHVzOiB0aGlzLnByb3BzLmluaXRGaWx0ZXIuc3RhdHVzIHx8ICcnLFxuICAgICAgZWZmb3J0X2d0ZTogdGhpcy5wcm9wcy5pbml0RmlsdGVyLmVmZm9ydF9ndGUgfHwgJycsXG4gICAgICBlZmZvcnRfbHRlOiB0aGlzLnByb3BzLmluaXRGaWx0ZXIuZWZmb3J0X2x0ZSB8fCAnJyxcbiAgICAgIGNoYW5nZWQ6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICBTdGF0dXM6Jm5ic3A7XG4gICAgICAgIDxzZWxlY3QgdmFsdWU9e3RoaXMuc3RhdGUuc3RhdHVzfSBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZVN0YXR1c30+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPihBbnkpPC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk5ld1wiPk5ldzwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJPcGVuXCI+T3Blbjwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJBc3NpZ25lZFwiPkFzc2lnbmVkPC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkZpeGVkXCI+Rml4ZWQ8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiVmVyaWZpZWRcIj5WZXJpZmllZDwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJDbG9zZWRcIj5DbG9zZWQ8L29wdGlvbj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICZuYnNwO0VmZm9ydCBiZXR3ZWVuOiZuYnNwO1xuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBzaXplPXs1fVxuICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVmZm9ydF9ndGV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VFZmZvcnRHdGV9XG4gICAgICAgIC8+XG4gICAgICAgICZuYnNwOy0mbmJzcDtcbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgc2l6ZT17NX1cbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lZmZvcnRfbHRlfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlRWZmb3J0THRlfVxuICAgICAgICAvPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuYXBwbHlGaWx0ZXJ9PlxuICAgICAgICAgIEFwcGx5XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17dGhpcy5yZXNldEZpbHRlcn1cbiAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuY2hhbmdlZH1cbiAgICAgICAgPlxuICAgICAgICAgIFJlc2V0XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuY2xlYXJGaWx0ZXJ9PlxuICAgICAgICAgIENsZWFyXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5Jc3N1ZUZpbHRlci5wcm9wVHlwZXMgPSB7XG4gIHNldEZpbHRlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgaW5pdEZpbHRlcjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBzdGF0dXM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBlZmZvcnRfZ3RlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgZWZmb3J0X2x0ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICB9KS5pc1JlcXVpcmVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgSXNzdWVGaWx0ZXI7XG4iLCIvLyAgJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXNzdWVBZGQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlU3VibWl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmZvcm1zLmlzc3VlQWRkO1xuICAgIHRoaXMucHJvcHMuY3JlYXRlSXNzdWUoe1xuICAgICAgb3duZXI6IGZvcm0ub3duZXIudmFsdWUsXG4gICAgICB0aXRsZTogZm9ybS50aXRsZS52YWx1ZSxcbiAgICAgIHN0YXR1czogJ05ldycsXG4gICAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpLFxuICAgIH0pO1xuICAgIC8vIGNsZWFyIHRoZSBmb3JtIGZvciB0aGUgbmV4dCBpbnB1dFxuICAgIGZvcm0ub3duZXIudmFsdWUgPSAnJztcbiAgICBmb3JtLnRpdGxlLnZhbHVlID0gJyc7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8Zm9ybSBuYW1lPVwiaXNzdWVBZGRcIiBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJvd25lclwiIHBsYWNlaG9sZGVyPVwiT3duZXJcIiAvPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0aXRsZVwiIHBsYWNlaG9sZGVyPVwiVGl0bGVcIiAvPlxuICAgICAgICAgIDxidXR0b24+QWRkPC9idXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuSXNzdWVBZGQucHJvcFR5cGVzID0ge1xuICBjcmVhdGVJc3N1ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICd3aGF0d2ctZmV0Y2gnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuaW1wb3J0IElzc3VlQWRkIGZyb20gJy4vSXNzdWVBZGQuanN4JztcbmltcG9ydCBJc3N1ZUZpbHRlciBmcm9tICcuL0lzc3VlRmlsdGVyLmpzeCc7XG5cbmNsYXNzIElzc3VlTGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBjb25zdHJ1Y3RRdWVyeShxdWVyeSkge1xuICAgIGNvbnN0IHN0YXQgPSBxdWVyeS5zdGF0dXMgPyBgc3RhdHVzPSR7cXVlcnkuc3RhdHVzfWAgOiAnJztcbiAgICBjb25zdCBlZmZvcnRHdGUgPSBxdWVyeS5lZmZvcnRfZ3RlID8gYCZlZmZvcnRfZ3RlPSR7cXVlcnkuZWZmb3J0X2d0ZX1gIDogJyc7XG4gICAgY29uc3QgZWZmb3J0THRlID0gcXVlcnkuZWZmb3J0X2x0ZSA/IGAmZWZmb3J0X2x0ZT0ke3F1ZXJ5LmVmZm9ydF9sdGV9YCA6ICcnO1xuICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gYCR7c3RhdH0ke2VmZm9ydEd0ZX0ke2VmZm9ydEx0ZX1gO1xuICAgIHJldHVybiBzZWFyY2hRdWVyeTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzc3VlczogW10sXG4gICAgICBxdWVyeToge1xuICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgICBlZmZvcnRfZ3RlOiAnJyxcbiAgICAgICAgZWZmb3J0X2x0ZTogJycsXG4gICAgICB9LFxuICAgIH07XG4gICAgdGhpcy5jcmVhdGVJc3N1ZSA9IHRoaXMuY3JlYXRlSXNzdWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmxvYWREYXRhID0gdGhpcy5sb2FkRGF0YS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0RmlsdGVyID0gdGhpcy5zZXRGaWx0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlbGV0ZUlzc3VlID0gdGhpcy5kZWxldGVJc3N1ZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5zZXRGaWx0ZXIodGhpcy5zdGF0ZS5xdWVyeSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmxvYWREYXRhKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgY29uc3Qgb2xkUXVlcnkgPSBwcmV2UHJvcHMubG9jYXRpb247XG4gICAgY29uc3QgbmV3UXVlcnkgPSB0aGlzLnByb3BzLmxvY2F0aW9uO1xuXG4gICAgaWYgKG9sZFF1ZXJ5LnNlYXJjaCA9PT0gbmV3UXVlcnkuc2VhcmNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sb2FkRGF0YSgpO1xuICB9XG5cbiAgc2V0RmlsdGVyKHF1ZXJ5KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBxdWVyeSxcbiAgICB9KTtcblxuICAgIHRoaXMucHJvcHMuaGlzdG9yeS5wdXNoKHtcbiAgICAgIHBhdGhuYW1lOiB0aGlzLnByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoOiBJc3N1ZUxpc3QuY29uc3RydWN0UXVlcnkocXVlcnkpLFxuICAgICAgcXVlcnksXG4gICAgfSk7XG4gIH1cblxuICBsb2FkRGF0YSgpIHtcbiAgICBmZXRjaChgL2FwaS9pc3N1ZXMke3RoaXMucHJvcHMubG9jYXRpb24uc2VhcmNofWApLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAvLyAgY29uc29sZS5sb2coJ1RvdGFsIENvdW50IG9mIHJlY29yZHM6ICcsIGRhdGEuX21ldGFkYXRhLnRvdGFsX2NvdW50KTtcbiAgICAgICAgICBkYXRhLnJlY29yZHMuZm9yRWFjaCgoaXNzdWUpID0+IHtcbiAgICAgICAgICAgIGlzc3VlLmNyZWF0ZWQgPSBuZXcgRGF0ZShpc3N1ZS5jcmVhdGVkKTtcbiAgICAgICAgICAgIGlmIChpc3N1ZS5jb21wbGV0aW9uRGF0ZSkge1xuICAgICAgICAgICAgICBpc3N1ZS5jb21wbGV0aW9uRGF0ZSA9IG5ldyBEYXRlKGlzc3VlLmNvbXBsZXRpb25EYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNzdWVzOiBkYXRhLnJlY29yZHMgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGVycm9yKSA9PiB7XG4gICAgICAgICAgYWxlcnQoYEZhaWxlZCB0byBmZXRjaCBpc3N1ZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBhbGVydChgRXJyb3IgaW4gZmV0Y2hpbmcgZGF0YSBmcm9tIHNlcnZlciArICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVJc3N1ZShuZXdJc3N1ZSkge1xuICAgIGZldGNoKCcvYXBpL2lzc3Vlcy8nLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3SXNzdWUpLFxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKHVwZGF0ZWRJc3N1ZSkgPT4ge1xuICAgICAgICAgIHVwZGF0ZWRJc3N1ZS5jcmVhdGVkID0gbmV3IERhdGUodXBkYXRlZElzc3VlLmNyZWF0ZWQpO1xuICAgICAgICAgIGlmICh1cGRhdGVkSXNzdWUuY29tcGxldGlvbkRhdGUpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRJc3N1ZS5jb21wbGV0aW9uRGF0ZSA9IG5ldyBEYXRlKHVwZGF0ZWRJc3N1ZS5jb21wbGV0aW9uRGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5ld0lzc3VlcyA9IHRoaXMuc3RhdGUuaXNzdWVzLmNvbmNhdCh1cGRhdGVkSXNzdWUpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc3N1ZXM6IG5ld0lzc3VlcyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbigoZXJyb3IpID0+IHtcbiAgICAgICAgICBhbGVydChgRmFpbGVkIHRvIGFkZCBpc3N1ZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBhbGVydChgRXJyb3IgaW4gc2VuZGluZyBEYXRhIHRvIHNlcnZlciA6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVJc3N1ZShpZCkge1xuICAgIGZldGNoKGAvYXBpL2lzc3Vlcy8ke2lkfWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gZGVsZXRlIGlzc3VlYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvYWREYXRhKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxJc3N1ZUZpbHRlclxuICAgICAgICAgIHNldEZpbHRlcj17dGhpcy5zZXRGaWx0ZXJ9XG4gICAgICAgICAgaW5pdEZpbHRlcj17dGhpcy5zdGF0ZS5xdWVyeX1cbiAgICAgICAgLz5cbiAgICAgICAgPGhyIC8+XG4gICAgICAgIDxJc3N1ZVRhYmxlIGlzc3Vlcz17dGhpcy5zdGF0ZS5pc3N1ZXN9IGRlbGV0ZUlzc3VlPXt0aGlzLmRlbGV0ZUlzc3VlfSAvPlxuICAgICAgICA8aHIgLz5cbiAgICAgICAgPElzc3VlQWRkIGNyZWF0ZUlzc3VlPXt0aGlzLmNyZWF0ZUlzc3VlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBJc3N1ZVJvdyA9IChwcm9wcykgPT4ge1xuICBmdW5jdGlvbiBvbkRlbGV0ZUNsaWNrKCkge1xuICAgIHByb3BzLmRlbGV0ZUlzc3VlKHByb3BzLmlzc3VlLl9pZCk7XG4gIH1cbiAgcmV0dXJuKFxuICA8dHI+XG4gICAgPHRkPlxuICAgICAgPExpbmsgdG89e2AvaXNzdWVzLyR7cHJvcHMuaXNzdWUuX2lkfWB9Pntwcm9wcy5pc3N1ZS5faWQuc3Vic3RyKC00KX08L0xpbms+XG4gICAgPC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLnN0YXR1c308L3RkPlxuICAgIDx0ZD57cHJvcHMuaXNzdWUub3duZXJ9PC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLmNyZWF0ZWQudG9EYXRlU3RyaW5nKCl9PC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLmVmZm9ydH08L3RkPlxuICAgIDx0ZD57cHJvcHMuaXNzdWUuY29tcGxldGlvbkRhdGUgPyBwcm9wcy5pc3N1ZS5jb21wbGV0aW9uRGF0ZS50b0RhdGVTdHJpbmcoKSA6ICcnfTwvdGQ+XG4gICAgPHRkPntwcm9wcy5pc3N1ZS50aXRsZX08L3RkPlxuICAgIDx0ZD48YnV0dG9uIG9uQ2xpY2s9e29uRGVsZXRlQ2xpY2t9PkRlbGV0ZTwvYnV0dG9uPjwvdGQ+XG4gIDwvdHI+XG4gICk7XG59O1xuXG5mdW5jdGlvbiBJc3N1ZVRhYmxlKHByb3BzKSB7XG4gIGNvbnN0IGlzc3VlUm93cyA9IHByb3BzLmlzc3Vlcy5tYXAoaXNzdWUgPT5cbiAgICA8SXNzdWVSb3cga2V5PXtpc3N1ZS5faWR9IGlzc3VlPXtpc3N1ZX0gZGVsZXRlSXNzdWU9e3Byb3BzLmRlbGV0ZUlzc3VlfSAvPik7XG4gIHJldHVybiAoXG4gICAgPHRhYmxlIGNsYXNzTmFtZT1cImJvcmRlcmVkLXRhYmxlXCI+XG4gICAgICA8dGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGg+SWQ8L3RoPlxuICAgICAgICAgIDx0aD5TdGF0dXM8L3RoPlxuICAgICAgICAgIDx0aD5Pd25lcjwvdGg+XG4gICAgICAgICAgPHRoPkNyZWF0ZWQ8L3RoPlxuICAgICAgICAgIDx0aD5FZmZvcnQ8L3RoPlxuICAgICAgICAgIDx0aD5Db21wbGV0aW9uIGRhdGU8L3RoPlxuICAgICAgICAgIDx0aD5UaXRsZTwvdGg+XG4gICAgICAgICAgPHRoPjwvdGg+XG4gICAgICAgIDwvdHI+XG4gICAgICA8L3RoZWFkPlxuICAgICAgPHRib2R5PlxuICAgICAgICB7aXNzdWVSb3dzfVxuICAgICAgPC90Ym9keT5cbiAgICA8L3RhYmxlPlxuICApO1xufVxuXG5Jc3N1ZVJvdy5wcm9wVHlwZXMgPSB7XG4gIGlzc3VlOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIG93bmVyOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBfaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3RhdHVzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNyZWF0ZWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZWZmb3J0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGNvbXBsZXRpb25EYXRlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB9KS5pc1JlcXVpcmVkLFxuICBkZWxldGVJc3N1ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG5cbklzc3VlVGFibGUucHJvcFR5cGVzID0ge1xuICBpc3N1ZXM6IFByb3BUeXBlcy5hcnJheU9mKHtcbiAgfSkuaXNSZXF1aXJlZCxcbiAgZGVsZXRlSXNzdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG59O1xuXG5Jc3N1ZUxpc3QucHJvcFR5cGVzID0ge1xuICBsb2NhdGlvbjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBwYXRobmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHNlYXJjaDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHF1ZXJ5OiBQcm9wVHlwZXMuc2hhcGUoe30pLmlzUmVxdWlyZWQsXG4gIH0pLmlzUmVxdWlyZWQsXG4gIGhpc3Rvcnk6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcHVzaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfSkuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IElzc3VlTGlzdDtcbiIsImltcG9ydCAnYmFiZWwtcG9seWZpbGwnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuLy8gaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgYXMgUm91dGVyLCBSb3V0ZSwgU3dpdGNoLCBMaW5rLCB3aXRoUm91dGVyIC8qIFJlZGlyZWN0ICovIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgSXNzdWVMaXN0IGZyb20gJy4vSXNzdWVMaXN0LmpzeCc7XG5pbXBvcnQgSXNzdWVFZGl0IGZyb20gJy4vSXNzdWVFZGl0LmpzeCc7XG5pbXBvcnQgeyBIb21lLCBIZWFkZXIsIEZvb3RlciB9IGZyb20gJy4vQ29tbW9uLmpzeCc7XG5pbXBvcnQgTm90Rm91bmQgZnJvbSAnLi9Ob3RGb3VuZC5qc3gnO1xuaW1wb3J0IEFydGljbGVzIGZyb20gJy4vQXJ0aWNsZXMuanN4JztcblxuXG5jb25zdCBjb250ZW50Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50cycpO1xuXG5jb25zdCBSb3V0ZWRBcHAgPSAoKSA9PiAoXG4gIDxSb3V0ZXI+XG4gICAgPGRpdj5cbiAgICAgIDxIZWFkZXIgLz5cbiAgICAgIDx1bD5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPkhvbWU8L0xpbms+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8TGluayB0bz1cIi9pc3N1ZXNcIj5Jc3N1ZXM8L0xpbms+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8TGluayB0bz1cIi9hcnRpY2xlc1wiPkFydGljbGVzPC9MaW5rPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cblxuICAgICAgPGhyIC8+XG4gICAgICA8U3dpdGNoPlxuICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD1cIi9cIiBjb21wb25lbnQ9e0hvbWV9IC8+XG4gICAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPVwiL2lzc3Vlc1wiIGNvbXBvbmVudD17d2l0aFJvdXRlcihJc3N1ZUxpc3QpfSAvPlxuICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD1cIi9pc3N1ZXMvOmlkXCIgY29tcG9uZW50PXtJc3N1ZUVkaXR9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2FydGljbGVzXCIgY29tcG9uZW50PXtBcnRpY2xlc30gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvKlwiIGNvbXBvbmVudD17Tm90Rm91bmR9IC8+XG4gICAgICA8L1N3aXRjaD5cbiAgICAgIDxGb290ZXIgLz5cbiAgICA8L2Rpdj5cbiAgPC9Sb3V0ZXI+XG4pO1xuXG5SZWFjdERPTS5yZW5kZXIoPFJvdXRlZEFwcCAvPiwgY29udGVudE5vZGUpO1xuXG5pZiAobW9kdWxlLmhvdCkge1xuICBtb2R1bGUuaG90LmFjY2VwdCgpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==