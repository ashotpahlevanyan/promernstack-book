!function(e){function t(t){for(var r,o,l=t[0],i=t[1],s=t[2],f=0,d=[];f<l.length;f++)o=l[f],u[o]&&d.push(u[o][0]),u[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(c&&c(t);d.length;)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==u[i]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},u={1:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var c=i;a.push([70,0]),n()}({24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=l(n(0)),a=n(14),o=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("p",null,"This is a placeholder for editing issue ",this.props.match.params.id),u.default.createElement(a.Link,{to:"/issues"},"Back to issue list"))}}]),t}();t.default=i,i.propTypes={match:o.default.shape({params:o.default.shape({id:o.default.string})}).isRequired}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=(r=a)&&r.__esModule?r:{default:r};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),u(t,[{key:"render",value:function(){return o.default.createElement("div",null,"This is a placeholder to Filter Issues.")}}]),t}();t.default=l},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=o(n(0)),a=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=e.handleSubmit.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.forms.issueAdd;this.props.createIssue({owner:t.owner.value,title:t.title.value,status:"New",created:new Date}),t.owner.value="",t.title.value=""}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("form",{name:"issueAdd",onSubmit:this.handleSubmit},u.default.createElement("input",{type:"text",name:"owner",placeholder:"Owner"}),u.default.createElement("input",{type:"text",name:"title",placeholder:"Title"}),u.default.createElement("button",null,"Add")))}}]),t}();t.default=l,l.propTypes={createIssue:a.default.func.isRequired}},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=s(n(0));n(27);var a=s(n(2)),o=n(14),l=s(n(26)),i=s(n(25));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={issues:[]},e.createIssue=e.createIssue.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;fetch("/api/issues/").then(function(t){t.ok?t.json().then(function(t){t.records.forEach(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate))}),e.setState({issues:t.records})}):t.json().then(function(e){alert("Failed to fetch issue: "+e.message)})}).catch(function(e){alert("Error in fetching data from server + "+e.message)})}},{key:"createIssue",value:function(e){var t=this;fetch("/api/issues/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){e.ok?e.json().then(function(e){e.created=new Date(e.created),e.completionDate&&(e.completionDate=new Date(e.completionDate));var n=t.state.issues.concat(e);t.setState({issues:n})}):e.json().then(function(e){alert("Failed to add issue: "+e.message)})}).catch(function(e){alert("Error in sending Data to server : "+e.message)})}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("h1",null,"Issue Tracker"),u.default.createElement(i.default,null),u.default.createElement("hr",null),u.default.createElement(d,{issues:this.state.issues}),u.default.createElement("hr",null),u.default.createElement(l.default,{createIssue:this.createIssue}))}}]),t}();t.default=c;var f=function(e){return u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(o.Link,{to:"/issues/"+e.issue._id},e.issue._id.substr(-4))),u.default.createElement("td",null,e.issue.status),u.default.createElement("td",null,e.issue.owner),u.default.createElement("td",null,e.issue.created.toDateString()),u.default.createElement("td",null,e.issue.effort),u.default.createElement("td",null,e.issue.completionDate?e.issue.completionDate.toDateString():""),u.default.createElement("td",null,e.issue.title))};function d(e){var t=e.issues.map(function(e){return u.default.createElement(f,{key:e._id,issue:e})});return u.default.createElement("table",{className:"bordered-table"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Id"),u.default.createElement("th",null,"Status"),u.default.createElement("th",null,"Owner"),u.default.createElement("th",null,"Created"),u.default.createElement("th",null,"Effort"),u.default.createElement("th",null,"Completion date"),u.default.createElement("th",null,"Title"))),u.default.createElement("tbody",null,t))}f.propTypes={issue:a.default.shape({owner:a.default.string.isRequired,title:a.default.string.isRequired,_id:a.default.string,status:a.default.string,created:a.default.string,effort:a.default.number,completionDate:a.default.string}).isRequired},d.propTypes={issues:a.default.arrayOf({}).isRequired}},69:function(e,t,n){"use strict";var r=i(n(0)),u=i(n(67)),a=n(14),o=i(n(28)),l=i(n(24));function i(e){return e&&e.__esModule?e:{default:e}}var s=document.getElementById("contents"),c=function(){return r.default.createElement("p",null,"Page Not Fount")};u.default.render(r.default.createElement(function(){return r.default.createElement(a.BrowserRouter,null,r.default.createElement(a.Switch,null,r.default.createElement(a.Redirect,{exact:!0,from:"/",to:"/issues"}),r.default.createElement(a.Route,{exact:!0,path:"/issues/",component:o.default}),r.default.createElement(a.Route,{exact:!0,path:"/issues/:id",component:l.default}),r.default.createElement(a.Route,{path:"*",component:c})))},null),s)},70:function(e,t,n){e.exports=n(69)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0lzc3VlRWRpdC5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0lzc3VlRmlsdGVyLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvSXNzdWVBZGQuanN4Iiwid2VicGFjazovLy8uL3NyYy9Jc3N1ZUxpc3QuanN4Iiwid2VicGFjazovLy8uL3NyYy9BcHAuanN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsbGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjEiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsImJpbmQiLCJzbGljZSIsIl9yZWFjdFJvdXRlckRvbSIsIklzc3VlRWRpdCIsIl9yZWFjdDIiLCJkZWZhdWx0IiwiQ29tcG9uZW50IiwiY3JlYXRlRWxlbWVudCIsInRoaXMiLCJwcm9wcyIsIm1hdGNoIiwicGFyYW1zIiwiaWQiLCJMaW5rIiwidG8iLCJwcm9wVHlwZXMiLCJfcHJvcFR5cGVzMiIsInNoYXBlIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsIl9yZWFjdCIsIklzc3VlRmlsdGVyIiwiSXNzdWVBZGQiLCJfY2xhc3NDYWxsQ2hlY2siLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJmb3JtIiwiZG9jdW1lbnQiLCJmb3JtcyIsImlzc3VlQWRkIiwiY3JlYXRlSXNzdWUiLCJvd25lciIsInRpdGxlIiwic3RhdHVzIiwiY3JlYXRlZCIsIkRhdGUiLCJvblN1Ym1pdCIsInR5cGUiLCJwbGFjZWhvbGRlciIsImZ1bmMiLCJJc3N1ZUxpc3QiLCJzdGF0ZSIsImlzc3VlcyIsImxvYWREYXRhIiwiX3RoaXMyIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJyZWNvcmRzIiwiZm9yRWFjaCIsImlzc3VlIiwiY29tcGxldGlvbkRhdGUiLCJzZXRTdGF0ZSIsImVycm9yIiwiYWxlcnQiLCJtZXNzYWdlIiwiY2F0Y2giLCJlcnIiLCJuZXdJc3N1ZSIsIl90aGlzMyIsIm1ldGhvZCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVwZGF0ZWRJc3N1ZSIsIm5ld0lzc3VlcyIsImNvbmNhdCIsIl9Jc3N1ZUZpbHRlcjIiLCJJc3N1ZVRhYmxlIiwiX0lzc3VlQWRkMiIsIklzc3VlUm93IiwiX2lkIiwic3Vic3RyIiwidG9EYXRlU3RyaW5nIiwiZWZmb3J0IiwiaXNzdWVSb3dzIiwibWFwIiwia2V5IiwiY2xhc3NOYW1lIiwibnVtYmVyIiwiYXJyYXlPZiIsImNvbnRlbnROb2RlIiwiZ2V0RWxlbWVudEJ5SWQiLCJOb01hdGNoIiwiX3JlYWN0RG9tMiIsInJlbmRlciIsIkJyb3dzZXJSb3V0ZXIiLCJTd2l0Y2giLCJSZWRpcmVjdCIsImV4YWN0IiwiZnJvbSIsIlJvdXRlIiwicGF0aCIsImNvbXBvbmVudCIsIl9Jc3N1ZUxpc3QyIiwiX0lzc3VlRWRpdDIiXSwibWFwcGluZ3MiOiJhQUNBLFNBQUFBLEVBQUFDLEdBT0EsSUFOQSxJQUtBQyxFQUFBQyxFQUxBQyxFQUFBSCxFQUFBLEdBQ0FJLEVBQUFKLEVBQUEsR0FDQUssRUFBQUwsRUFBQSxHQUdBTSxFQUFBLEVBQUFDLEtBQ1FELEVBQUFILEVBQUFLLE9BQW9CRixJQUM1QkosRUFBQUMsRUFBQUcsR0FDQUcsRUFBQVAsSUFDQUssRUFBQUcsS0FBQUQsRUFBQVAsR0FBQSxJQUVBTyxFQUFBUCxHQUFBLEVBRUEsSUFBQUQsS0FBQUcsRUFDQU8sT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVYsRUFBQUgsS0FDQWMsRUFBQWQsR0FBQUcsRUFBQUgsSUFJQSxJQURBZSxLQUFBaEIsR0FDQU8sRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxPQUhBVyxFQUFBUixLQUFBUyxNQUFBRCxFQUFBYixPQUdBZSxJQUVBLFNBQUFBLElBRUEsSUFEQSxJQUFBQyxFQUNBZixFQUFBLEVBQWlCQSxFQUFBWSxFQUFBVixPQUE0QkYsSUFBQSxDQUc3QyxJQUZBLElBQUFnQixFQUFBSixFQUFBWixHQUNBaUIsR0FBQSxFQUNBQyxFQUFBLEVBQWtCQSxFQUFBRixFQUFBZCxPQUEyQmdCLElBQUEsQ0FDN0MsSUFBQUMsRUFBQUgsRUFBQUUsR0FDQSxJQUFBZixFQUFBZ0IsS0FBQUYsR0FBQSxHQUVBQSxJQUNBTCxFQUFBUSxPQUFBcEIsSUFBQSxHQUNBZSxFQUFBTSxJQUFBQyxFQUFBTixFQUFBLEtBR0EsT0FBQUQsRUFJQSxJQUFBUSxLQUdBcEIsR0FDQXFCLEVBQUEsR0FHQVosS0FHQSxTQUFBUyxFQUFBMUIsR0FHQSxHQUFBNEIsRUFBQTVCLEdBQ0EsT0FBQTRCLEVBQUE1QixHQUFBOEIsUUFHQSxJQUFBQyxFQUFBSCxFQUFBNUIsSUFD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RixFQUFBeEYsUUFBU3lGLE9BQU8xRixFQUFBQyxRQUFBRSxjQVpFLGtCQUNoQkgsRUFBQUMsUUFBQUUsY0FBQUwsRUFBQTZGLGNBQUEsS0FDRTNGLEVBQUFDLFFBQUFFLGNBQUFMLEVBQUE4RixPQUFBLEtBQ0U1RixFQUFBQyxRQUFBRSxjQUFBTCxFQUFBK0YsVUFBVUMsT0FBQSxFQUFNQyxLQUFLLElBQUlyRixHQUFHLFlBQzVCVixFQUFBQyxRQUFBRSxjQUFBTCxFQUFBa0csT0FBT0YsT0FBQSxFQUFNRyxLQUFLLFdBQVdDLFVBQUFDLEVBQUFsRyxVQUM3QkQsRUFBQUMsUUFBQUUsY0FBQUwsRUFBQWtHLE9BQU9GLE9BQUEsRUFBTUcsS0FBSyxjQUFjQyxVQUFBRSxFQUFBbkcsVUFDaENELEVBQUFDLFFBQUFFLGNBQUFMLEVBQUFrRyxPQUFPQyxLQUFLLElBQUlDLFVBQVdWLE9BTWpCLE1BQWVGIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdXG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsbGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsbGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQxOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi4vXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFs3MCwwXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJc3N1ZUVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPHA+VGhpcyBpcyBhIHBsYWNlaG9sZGVyIGZvciBlZGl0aW5nIGlzc3VlIHt0aGlzLnByb3BzLm1hdGNoLnBhcmFtcy5pZH08L3A+XG4gICAgICAgIDxMaW5rIHRvPVwiL2lzc3Vlc1wiPkJhY2sgdG8gaXNzdWUgbGlzdDwvTGluaz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuSXNzdWVFZGl0LnByb3BUeXBlcyA9IHtcbiAgbWF0Y2g6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgcGFyYW1zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gIH0pLmlzUmVxdWlyZWQsXG59O1xuIiwiXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElzc3VlRmlsdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+VGhpcyBpcyBhIHBsYWNlaG9sZGVyIHRvIEZpbHRlciBJc3N1ZXMuPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLy8gICd1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElzc3VlQWRkIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuaGFuZGxlU3VibWl0ID0gdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtcy5pc3N1ZUFkZDtcbiAgICB0aGlzLnByb3BzLmNyZWF0ZUlzc3VlKHtcbiAgICAgIG93bmVyOiBmb3JtLm93bmVyLnZhbHVlLFxuICAgICAgdGl0bGU6IGZvcm0udGl0bGUudmFsdWUsXG4gICAgICBzdGF0dXM6ICdOZXcnLFxuICAgICAgY3JlYXRlZDogbmV3IERhdGUoKSxcbiAgICB9KTtcbiAgICAvLyBjbGVhciB0aGUgZm9ybSBmb3IgdGhlIG5leHQgaW5wdXRcbiAgICBmb3JtLm93bmVyLnZhbHVlID0gJyc7XG4gICAgZm9ybS50aXRsZS52YWx1ZSA9ICcnO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGZvcm0gbmFtZT1cImlzc3VlQWRkXCIgb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwib3duZXJcIiBwbGFjZWhvbGRlcj1cIk93bmVyXCIgLz5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidGl0bGVcIiBwbGFjZWhvbGRlcj1cIlRpdGxlXCIgLz5cbiAgICAgICAgICA8YnV0dG9uPkFkZDwvYnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbklzc3VlQWRkLnByb3BUeXBlcyA9IHtcbiAgY3JlYXRlSXNzdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnd2hhdHdnLWZldGNoJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgSXNzdWVBZGQgZnJvbSAnLi9Jc3N1ZUFkZC5qc3gnO1xuaW1wb3J0IElzc3VlRmlsdGVyIGZyb20gJy4vSXNzdWVGaWx0ZXIuanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXNzdWVMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7IGlzc3VlczogW10gfTtcbiAgICB0aGlzLmNyZWF0ZUlzc3VlID0gdGhpcy5jcmVhdGVJc3N1ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5sb2FkRGF0YSgpO1xuICB9XG5cbiAgbG9hZERhdGEoKSB7XG4gICAgZmV0Y2goJy9hcGkvaXNzdWVzLycpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAvLyAgY29uc29sZS5sb2coJ1RvdGFsIENvdW50IG9mIHJlY29yZHM6ICcsIGRhdGEuX21ldGFkYXRhLnRvdGFsX2NvdW50KTtcbiAgICAgICAgICBkYXRhLnJlY29yZHMuZm9yRWFjaCgoaXNzdWUpID0+IHtcbiAgICAgICAgICAgIGlzc3VlLmNyZWF0ZWQgPSBuZXcgRGF0ZShpc3N1ZS5jcmVhdGVkKTtcbiAgICAgICAgICAgIGlmIChpc3N1ZS5jb21wbGV0aW9uRGF0ZSkge1xuICAgICAgICAgICAgICBpc3N1ZS5jb21wbGV0aW9uRGF0ZSA9IG5ldyBEYXRlKGlzc3VlLmNvbXBsZXRpb25EYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNzdWVzOiBkYXRhLnJlY29yZHMgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGVycm9yKSA9PiB7XG4gICAgICAgICAgYWxlcnQoYEZhaWxlZCB0byBmZXRjaCBpc3N1ZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBhbGVydChgRXJyb3IgaW4gZmV0Y2hpbmcgZGF0YSBmcm9tIHNlcnZlciArICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVJc3N1ZShuZXdJc3N1ZSkge1xuICAgIGZldGNoKCcvYXBpL2lzc3Vlcy8nLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3SXNzdWUpLFxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKHVwZGF0ZWRJc3N1ZSkgPT4ge1xuICAgICAgICAgIHVwZGF0ZWRJc3N1ZS5jcmVhdGVkID0gbmV3IERhdGUodXBkYXRlZElzc3VlLmNyZWF0ZWQpO1xuICAgICAgICAgIGlmICh1cGRhdGVkSXNzdWUuY29tcGxldGlvbkRhdGUpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRJc3N1ZS5jb21wbGV0aW9uRGF0ZSA9IG5ldyBEYXRlKHVwZGF0ZWRJc3N1ZS5jb21wbGV0aW9uRGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5ld0lzc3VlcyA9IHRoaXMuc3RhdGUuaXNzdWVzLmNvbmNhdCh1cGRhdGVkSXNzdWUpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc3N1ZXM6IG5ld0lzc3VlcyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbigoZXJyb3IpID0+IHtcbiAgICAgICAgICBhbGVydChgRmFpbGVkIHRvIGFkZCBpc3N1ZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBhbGVydChgRXJyb3IgaW4gc2VuZGluZyBEYXRhIHRvIHNlcnZlciA6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMT5Jc3N1ZSBUcmFja2VyPC9oMT5cbiAgICAgICAgPElzc3VlRmlsdGVyIC8+XG4gICAgICAgIDxociAvPlxuICAgICAgICA8SXNzdWVUYWJsZSBpc3N1ZXM9e3RoaXMuc3RhdGUuaXNzdWVzfSAvPlxuICAgICAgICA8aHIgLz5cbiAgICAgICAgPElzc3VlQWRkIGNyZWF0ZUlzc3VlPXt0aGlzLmNyZWF0ZUlzc3VlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBJc3N1ZVJvdyA9IHByb3BzID0+IChcbiAgPHRyPlxuICAgIDx0ZD5cbiAgICAgIDxMaW5rIHRvPXtgL2lzc3Vlcy8ke3Byb3BzLmlzc3VlLl9pZH1gfT57cHJvcHMuaXNzdWUuX2lkLnN1YnN0cigtNCl9PC9MaW5rPlxuICAgIDwvdGQ+XG4gICAgPHRkPntwcm9wcy5pc3N1ZS5zdGF0dXN9PC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLm93bmVyfTwvdGQ+XG4gICAgPHRkPntwcm9wcy5pc3N1ZS5jcmVhdGVkLnRvRGF0ZVN0cmluZygpfTwvdGQ+XG4gICAgPHRkPntwcm9wcy5pc3N1ZS5lZmZvcnR9PC90ZD5cbiAgICA8dGQ+e3Byb3BzLmlzc3VlLmNvbXBsZXRpb25EYXRlID8gcHJvcHMuaXNzdWUuY29tcGxldGlvbkRhdGUudG9EYXRlU3RyaW5nKCkgOiAnJ308L3RkPlxuICAgIDx0ZD57cHJvcHMuaXNzdWUudGl0bGV9PC90ZD5cbiAgPC90cj5cbik7XG5cbmZ1bmN0aW9uIElzc3VlVGFibGUocHJvcHMpIHtcbiAgY29uc3QgaXNzdWVSb3dzID0gcHJvcHMuaXNzdWVzLm1hcChpc3N1ZSA9PiA8SXNzdWVSb3cga2V5PXtpc3N1ZS5faWR9IGlzc3VlPXtpc3N1ZX0gLz4pO1xuICByZXR1cm4gKFxuICAgIDx0YWJsZSBjbGFzc05hbWU9XCJib3JkZXJlZC10YWJsZVwiPlxuICAgICAgPHRoZWFkPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRoPklkPC90aD5cbiAgICAgICAgICA8dGg+U3RhdHVzPC90aD5cbiAgICAgICAgICA8dGg+T3duZXI8L3RoPlxuICAgICAgICAgIDx0aD5DcmVhdGVkPC90aD5cbiAgICAgICAgICA8dGg+RWZmb3J0PC90aD5cbiAgICAgICAgICA8dGg+Q29tcGxldGlvbiBkYXRlPC90aD5cbiAgICAgICAgICA8dGg+VGl0bGU8L3RoPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90aGVhZD5cbiAgICAgIDx0Ym9keT5cbiAgICAgICAge2lzc3VlUm93c31cbiAgICAgIDwvdGJvZHk+XG4gICAgPC90YWJsZT5cbiAgKTtcbn1cblxuSXNzdWVSb3cucHJvcFR5cGVzID0ge1xuICBpc3N1ZTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBvd25lcjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgX2lkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHN0YXR1czogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjcmVhdGVkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGVmZm9ydDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBjb21wbGV0aW9uRGF0ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgfSkuaXNSZXF1aXJlZCxcbn07XG5cbklzc3VlVGFibGUucHJvcFR5cGVzID0ge1xuICBpc3N1ZXM6IFByb3BUeXBlcy5hcnJheU9mKHtcbiAgfSkuaXNSZXF1aXJlZCxcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIGFzIFJvdXRlciwgUm91dGUsIFJlZGlyZWN0LCBTd2l0Y2ggfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBJc3N1ZUxpc3QgZnJvbSAnLi9Jc3N1ZUxpc3QuanN4JztcbmltcG9ydCBJc3N1ZUVkaXQgZnJvbSAnLi9Jc3N1ZUVkaXQuanN4JztcblxuY29uc3QgY29udGVudE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudHMnKTtcbmNvbnN0IE5vTWF0Y2ggPSAoKSA9PiA8cD5QYWdlIE5vdCBGb3VudDwvcD47XG5cbmNvbnN0IFJvdXRlZEFwcCA9ICgpID0+IChcbiAgPFJvdXRlcj5cbiAgICA8U3dpdGNoPlxuICAgICAgPFJlZGlyZWN0IGV4YWN0IGZyb209XCIvXCIgdG89XCIvaXNzdWVzXCIgLz5cbiAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPVwiL2lzc3Vlcy9cIiBjb21wb25lbnQ9e0lzc3VlTGlzdH0gLz5cbiAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPVwiL2lzc3Vlcy86aWRcIiBjb21wb25lbnQ9e0lzc3VlRWRpdH0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiKlwiIGNvbXBvbmVudD17Tm9NYXRjaH0gLz5cbiAgICA8L1N3aXRjaD5cbiAgPC9Sb3V0ZXI+XG4pO1xuXG5cblJlYWN0RE9NLnJlbmRlcig8Um91dGVkQXBwIC8+LCBjb250ZW50Tm9kZSk7XG5cbmlmIChtb2R1bGUuaG90KSB7XG4gIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9